<!DOCTYPE html>
<html lang="pt-br"><head>
<script src="slides_files/libs/clipboard/clipboard.min.js"></script>
<script src="slides_files/libs/quarto-html/tabby.min.js"></script>
<script src="slides_files/libs/quarto-html/popper.min.js"></script>
<script src="slides_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="slides_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/quarto-syntax-highlighting-c6982bbdd90c704a9b15aa23d87ad911.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.9.2">

  <meta name="author" content="Maurício Vancine">
  <title>Manipulação de dados em R (tidyverse)</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/theme/quarto-a7b54263231cec6bd3b4a6e8c0bdd44b.css">
  <link href="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="slides_files/libs/countdown-0.4.0/countdown.css" rel="stylesheet">
  <script src="slides_files/libs/countdown-0.4.0/countdown.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section class="quarto-title-block center">
  <h1 class="title">Manipulação de dados em R (tidyverse)</h1>
  <p class="subtitle"><br>NT265/NE441 - Análise de dados e apresentação de gráficos usando a linguagem R</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
<a href="https://mauriciovancine.github.io">Maurício Vancine</a> 
</div>
</div>
</div>

  <p class="date">5 de novembro de 2025</p>
</section>
<section class="title-slide slide level1 center">
<h1>tidyverse</h1>

</section>

<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/general_data_science_r4ds.png" style="width:100%">
</center>
<div class="footer">
<p>Artwork by <a href="https://x.com/allison_horst"><span class="citation" data-cites="allison_horst">@allison_horst</span></a></p>
</div>
</section>
<section class="slide level2">
<h2>Conteúdo</h2>
<p><br><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Contextualização</li>
<li>tidyverse</li>
<li>readr, readxl e writexl</li>
<li>tibble</li>
<li>magrittr (pipe - %&gt;%)</li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>tidyr</li>
<li>dplyr</li>
<li>stringr</li>
<li>forcats</li>
<li>lubridate</li>
<li>purrr</li>
</ul>
</div></div>
</section>
<section class="slide level2">
<h2>Ciência de dados ambiental (<em>Environmental Data Science</em>)</h2>
<center>
<img src="img/EnvDataSci.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://bookdown.org/igisc/EnvDataSci/">Introduction to Environmental Data Science</a></p>
</div>
</section>
<section class="slide level2">
<h2>Ecoinformatics</h2>
<p><br></p>
<center>
<img src="img/ecoinformatics_diagram.png" style="width:50%">
</center>
<div class="footer">
<p><a href="http://www.uwyo.edu/wygisc/our_research/ongoing_research/ecoinformatics_initiative.html">Ecoinformatics Initiative</a>, <a href="https://doi.org/10.1016/j.tree.2011.11.016">Michener &amp; Jones (2012)</a>, <a href="https://doi.org/10.22920/PNIE.2020.1.1.9">Lin et al.&nbsp;(2020)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Ciência de dados para ecólogos <br> (<em>Data Science for Ecologists</em>)</h2>
<center>
<img src="img/data_science_eco.png" style="width:70%">
</center>
<div class="footer">
<p><a href="https://ourcodingclub.github.io/course">Data Science for Ecologists and Environmental Scientists</a></p>
</div>
</section>
<section class="slide level2">
<h2>Environmental Data Science</h2>
<center>
<img src="img/environmental_data science_cut.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://www.cambridge.org/core/journals/environmental-data-science">Environmental Data Science</a></p>
</div>
</section></section>
<section class="title-slide slide level1 center">
<h1>Legal, mas ainda está distante…</h1>

</section>

<section class="title-slide slide level1 center">
<h1>Legal, mas ainda está distante… Nem tanto…</h1>

</section>

<section>
<section class="title-slide slide level1 center">
<h1>Big Data em Ecologia</h1>

</section>
<section class="slide level2">
<h2>Big Data em Ecologia</h2>
<p><strong>Mudança de paradigma</strong></p>
<center>
<img src="img/bigdata01.png" style="width:100%">
</center>
<div class="footer">
<p><a href="https://doi.org/10.1016/j.tree.2023.05.010">McCleery et al.&nbsp;(2023)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Big Data em Ecologia</h2>
<p><strong>Quantidade de dados</strong></p>
<center>
<img src="img/bigdata02.jpg" style="width:90%">
</center>
<div class="footer">
<p><a href="https://academic.oup.com/bioscience/article/68/8/563/5049569">Farley et al.&nbsp;(2018)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Data papers</h2>
<center>
<img src="img/data_papers.png" style="width:100%">
</center>
<div class="footer">
<p><a href="https://github.com/LEEClab/Atlantic_series">Atlantic series</a>, <a href="https://github.com/LEEClab/BRAZIL_SERIES">Brazil series</a>, <a href="https://github.com/LEEClab/Neotropical_Series">Neotropical series</a></p>
</div>
</section>
<section class="slide level2">
<h2>iEcology</h2>
<p><img data-src="img/iecology01.jpg" class="absolute" style="top: 150px; right: 520px; width: 600px; height: 500px; "> <img data-src="img/iecology02.jpg" class="absolute" style="top: 100px; right: -120px; width: 600px; height: 550px; "></p>
<div class="footer">
<p><a href="https://doi.org/10.1016/j.tree.2020.03.003">Jarić et al.&nbsp;(2020)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Monitoramento automatizado</h2>
<p><img data-src="img/auto_sampling02.webp" class="absolute" style="top: 150px; right: 0px; width: 1200px; height: 500px; "></p>
<div class="footer">
<p><a href="https://doi.org/10.1111/ele.14123">Besson et al.&nbsp;(2022)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Monitoramento automatizado</h2>
<p><img data-src="img/auto_sampling01.webp" class="absolute" style="top: 125px; right: 450px; width: 700px; height: 500px; "> <img data-src="img/auto_sampling03.jpg" class="absolute" style="top: 100px; right: 0px; width: 400px; height: 550px; "></p>
<div class="footer">
<p><a href="https://doi.org/10.1111/ele.14123">Besson et al.&nbsp;(2022)</a></p>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1>Machine Learning em Ecologia</h1>

</section>
<section class="slide level2">
<h2>Machine Learning em Ecologia</h2>
<center>
<img src="img/machine_learning01.webp" style="width:90%">
</center>
<div class="footer">
<p><a href="https://doi.org/10.1111/2041-210X.14061">Pichler &amp; Hartig (2023)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Machine Learning em Ecologia</h2>
<center>
<img src="img/machine_learning02.webp" style="width:80%">
</center>
<div class="footer">
<p><a href="https://doi.org/10.1111/2041-210X.14061">Pichler &amp; Hartig (2023)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Machine Learning em Ecologia</h2>
<center>
<img src="img/machine_learning03.webp" style="width:70%">
</center>
<div class="footer">
<p><a href="https://doi.org/10.1111/2041-210X.14061">Pichler &amp; Hartig (2023)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Deep Learning em Ecologia</h2>
<p>Amostragem de insetos e fragmentação em Balbinas (AM)</p>
<p><img data-src="img/ml01.jpg" class="absolute" style="top: 170px; right: 650px; width: 550px; "> <img data-src="img/ml02.jpg" class="absolute" style="top: 130px; right: -170px; width: 800px; "></p>
<div class="footer">
<p><a href="https://doi.org/10.1111/1365-2656.70117">Colares et al.&nbsp;(2025)</a>, <a href="https://doi.org/10.1111/1365-2656.70165">Gonçalves-Souza et al.&nbsp;(2025)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Repositório do GitHub</h2>
<p><br></p>
<p><a href="https://github.com/mauriciovancine/workshop-r-data-manipulation">https://github.com/mauriciovancine/workshop-r-data-manipulation</a></p>
<center>
<img src="img/github_logo2.png" style="width:60%">
</center>
<div class="footer">
<p><a href="https://github.com/mauriciovancine/workshop-r-data-manipulation">workshop-r-data-manipulation</a></p>
</div>
</section>
<section class="slide level2">
<h2>Script</h2>
<p>Abram o script</p>
<p><br><br><br><br></p>
<p><code>script_r.R</code></p>
<div class="footer">
<p><a href="https://github.com/course-intror/scripts">course-intror - scripts</a></p>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1>tidyverse</h1>

</section>
<section class="slide level2">
<h2>Descrição</h2>
<ul>
<li><p>O <code>tidyverse</code> é um conjunto de pacotes designados para <em>Data Science</em></p></li>
<li><p>Todos os pacotes compartilham uma filosofia de design, gramática e estruturas de dados</p></li>
<li><p>É um “dialeto novo” para a linguagem R</p></li>
</ul>
<p><strong>tidy</strong>: organizado, arrumado, ordenado<br>
<strong>verse</strong>: universo</p>
<div class="footer">
<p><a href="https://rviews.rstudio.com/2017/06/08/what-is-the-tidyverse/">What is the tidyverse?</a></p>
</div>
</section>
<section class="slide level2">
<h2>Fluxo de trabalho</h2>
<p><br><br></p>
<center>
<img src="img/general_data_science.png" style="width:100%">
</center>
<div class="footer">
<p><a href="https://r4ds.had.co.nz/">Wickham &amp; Grolemund (2017)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Pacotes</h2>
<center>
<img src="img/tidyverse_flowchart.png" style="width:90%">
</center>
<div class="footer">
<p><a href="https://ohi-science.org/globalfellows/why_rmarkdown.html">R Markdown + R + RStudio</a></p>
</div>
</section>
<section class="slide level2 smaller">
<h2>Artigos</h2>
<ul>
<li>Wickham, Hadley. “Tidy data.” Journal of Statistical Software 59.10 (2014): 1-23.</li>
<li>Wickham, Hadley, et al.&nbsp;“Welcome to the Tidyverse.” Journal of Open Source Software 4.43 (2019): 1686.</li>
</ul>
<center>
<img src="img/tidyverse_papers.png" style="width:45%">
</center>
<div class="footer">
<p><a href="https://www.jstatsoft.org/article/view/v059i10">Wickham (2014)</a>, <a href="https://joss.theoj.org/papers/10.21105/joss.01686">Wickham et al.&nbsp;(2019)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Livro</h2>
<center>
<img src="img/cover_data_science_r.jpg" style="width:40%">
</center>
<div class="footer">
<p><a href="https://r4ds.had.co.nz/">Wickham et al.&nbsp;(2023)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Livro</h2>
<p><strong>Tradução para o português</strong></p>
<p><a href="https://pt.r4ds.hadley.nz/">R para Ciência de Dados (2ª edição)</a></p>
<center>
<img src="img/cover_data_science_r.jpg" style="width:33%">
</center>
<div class="footer">
<p><a href="https://r4ds.had.co.nz/">Wickham et al.&nbsp;(2023)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Site</h2>
<p><br></p>
<center>
<img src="img/tidyverse_site.png" style="width:100%">
</center>
<div class="footer">
<p><a href="https://www.tidyverse.org/">tidyverse</a></p>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/package_tidyverse.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://tidyverse.tidyverse.org/">tidyverse</a></p>
</div>
</section>
<section class="slide level2">
<h2>tidyverse</h2>
<p>Para utilizar os pacotes é preciso instalar e carregar o pacote <code>tidyverse</code></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="co"># instalar pacote</span></span>
<span id="cb1-2"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a><span class="co"># carregar pacote</span></span>
<span id="cb2-2"><a href=""></a><span class="fu">library</span>(tidyverse)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.1     ✔ stringr   1.5.2
✔ ggplot2   4.0.0     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.1.0     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>Pacotes do tidyverse</h2>
<p><strong>Listar os pacotes</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a><span class="co"># listar todos os pacotes no tidyverse </span></span>
<span id="cb4-2"><a href=""></a>tidyverse<span class="sc">::</span><span class="fu">tidyverse_packages</span>(<span class="at">include_self =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "broom"         "conflicted"    "cli"           "dbplyr"       
 [5] "dplyr"         "dtplyr"        "forcats"       "ggplot2"      
 [9] "googledrive"   "googlesheets4" "haven"         "hms"          
[13] "httr"          "jsonlite"      "lubridate"     "magrittr"     
[17] "modelr"        "pillar"        "purrr"         "ragg"         
[21] "readr"         "readxl"        "reprex"        "rlang"        
[25] "rstudioapi"    "rvest"         "stringr"       "tibble"       
[29] "tidyr"         "xml2"          "tidyverse"    </code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>Sintaxe</h2>
<p>Todas as funções dos pacotes <code>tidyverse</code> usam <code>fonte minúscula</code> e <code>_</code> para separar os nomes internos das funções (<code>snake_case</code>)</p>
<p><br> <code>read_csv()</code></p>
<p><code>read_xlsx()</code></p>
<p><code>as_tibble()</code></p>
<p><code>left_join()</code></p>
<p><code>group_by()</code></p>
<p><img data-src="img/code_snake_case.png" class="absolute" style="top: 350px; right: 150px; width: 500px; "></p>
<div class="footer">
<p><a href="https://www.petanikode.com/case-kode-program/">Mengenal 4 Macam Gaya Penulisan Case dalam Kode Program</a></p>
</div>
</section>
<section class="slide level2">
<h2>Sintaxe</h2>
<p>Geralmente indica-se de quais pacotes as funções são utilizadas (<code>pacote::função</code>) para evitar erros com outros pacotes</p>
<p><br> <code>readr::read_csv()</code></p>
<p><code>readxl::read_xlsx()</code></p>
<p><code>tibble::as_tibble()</code></p>
<p><code>dplyr::left_join()</code></p>
<p><code>dplyr::group_by()</code></p>
<p><img data-src="img/conflicted.jpeg" class="absolute" style="top: 400px; right: 0px; width: 600px; "></p>
<div class="footer">
<p><a href="https://conflicted.r-lib.org/index.html">conflicted</a></p>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/package_readr.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://readr.tidyverse.org/">readr</a></p>
</div>
</section>
<section class="slide level2 smaller">
<h2>Descrição</h2>
<ul>
<li><p>Carrega e salva grandes arquivos de forma rápida</p></li>
<li><p>As funções fornecem medidores de progresso (<em>big data</em>)</p></li>
<li><p>Classificam o modo (tipo dos dados) de cada coluna</p></li>
<li><p>A classe do objeto atribuído é <code>tibble</code></p></li>
<li><p>Funções:</p></li>
<li><p><code>read_csv()</code>: lê arquivos <em>Comma-separated values</em></p></li>
<li><p><code>read_csv2()</code>: lê arquivos <em>Comma-separated values</em> (separado por ;)</p></li>
<li><p><code>read_tsv()</code>: lê arquivos <em>Tab-separated values</em></p></li>
<li><p><code>read_delim()</code>: lê arquivos <em>delim-separated values</em></p></li>
<li><p><code>write_csv()</code>: escreve arquivos <em>Comma-separated values</em></p></li>
<li><p><code>write_csv2()</code>: escreve arquivos <em>Comma-separated values</em> (separado por ;)</p></li>
<li><p><code>write_delim()</code>: escreve arquivos <em>delim-separated values</em></p></li>
</ul>
</section>
<section class="slide level2">
<h2>Diretório</h2>
<p>Caminho no computador para importar e exportar dados</p>
<p><strong>Definir diretório</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a><span class="co"># definir diretorio</span></span>
<span id="cb6-2"><a href=""></a><span class="fu">setwd</span>(<span class="st">"/home/mude/data/github/workshop-r-data-manipulation/03_data"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>Conferir diretório</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="co"># conferir diretorio</span></span>
<span id="cb7-2"><a href=""></a><span class="fu">getwd</span>()</span>
<span id="cb7-3"><a href=""></a></span>
<span id="cb7-4"><a href=""></a><span class="co"># listar arquivos</span></span>
<span id="cb7-5"><a href=""></a><span class="fu">dir</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section></section>
<section class="title-slide slide level1 center">
<h1>Vamos trabalhar com dados reais?</h1>

</section>

<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/general_real_data.jpg" style="width:60%">
</center>
</section>
<section class="slide level2">
<h2>Importar dados</h2>
<p>ATLANTIC AMPHIBIANS: a dataset of amphibian communities from the Atlantic Forests of South America</p>
<center>
<img src="img/general_data_eu_mesmo.png" style="width:75%">
</center>
<div class="footer">
<p><a href="https://doi.org/10.1002/ecy.2392">Vancine et al.&nbsp;(2018)</a></p>
</div>
</section>
<section class="slide level2">
<h2>Importar dados</h2>
<p><strong>Formato .csv</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a><span class="co"># ler uma planilha eletronica (.csv)</span></span>
<span id="cb8-2"><a href=""></a>si <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"ATLANTIC_AMPHIBIANS_sites.csv"</span>)</span>
<span id="cb8-3"><a href=""></a>si</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,163 × 25
   id      reference_number species_number record sampled_habitat active_methods
   &lt;chr&gt;              &lt;dbl&gt;          &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;           &lt;chr&gt;         
 1 amp1001             1001             19 ab     fo,ll           as            
 2 amp1002             1002             16 co     fo,la,ll        as            
 3 amp1003             1002             14 co     fo,la,ll        as            
 4 amp1004             1002             13 co     fo,la,ll        as            
 5 amp1005             1003             30 co     fo,ll,br        as            
 6 amp1006             1004             42 co     tp,pp,la,ll,is  &lt;NA&gt;          
 7 amp1007             1005             23 co     sp              as            
 8 amp1008             1005             19 co     sp,la,sw        as,sb,tr      
 9 amp1009             1005             13 ab     fo              &lt;NA&gt;          
10 amp1010             1006              1 ab     fo              &lt;NA&gt;          
# ℹ 1,153 more rows
# ℹ 19 more variables: passive_methods &lt;chr&gt;, complementary_methods &lt;chr&gt;,
#   period &lt;chr&gt;, month_start &lt;dbl&gt;, year_start &lt;dbl&gt;, month_finish &lt;dbl&gt;,
#   year_finish &lt;dbl&gt;, effort_months &lt;dbl&gt;, country &lt;chr&gt;, state &lt;chr&gt;,
#   state_abbreviation &lt;chr&gt;, municipality &lt;chr&gt;, site &lt;chr&gt;, latitude &lt;dbl&gt;,
#   longitude &lt;dbl&gt;, coordinate_precision &lt;chr&gt;, altitude &lt;dbl&gt;,
#   temperature &lt;dbl&gt;, precipitation &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>Importar dados</h2>
<p><strong>Formato .txt</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a><span class="co"># importar txt</span></span>
<span id="cb10-2"><a href=""></a>si <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_tsv</span>(<span class="st">"ATLANTIC_AMPHIBIANS_sites.txt"</span>)</span>
<span id="cb10-3"><a href=""></a>si</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,163 × 25
   id      reference_number species_number record sampled_habitat active_methods
   &lt;chr&gt;              &lt;dbl&gt;          &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;           &lt;chr&gt;         
 1 amp1001             1001             19 ab     fo,ll           as            
 2 amp1002             1002             16 co     fo,la,ll        as            
 3 amp1003             1002             14 co     fo,la,ll        as            
 4 amp1004             1002             13 co     fo,la,ll        as            
 5 amp1005             1003             30 co     fo,ll,br        as            
 6 amp1006             1004             42 co     tp,pp,la,ll,is  &lt;NA&gt;          
 7 amp1007             1005             23 co     sp              as            
 8 amp1008             1005             19 co     sp,la,sw        as,sb,tr      
 9 amp1009             1005             13 ab     fo              &lt;NA&gt;          
10 amp1010             1006              1 ab     fo              &lt;NA&gt;          
# ℹ 1,153 more rows
# ℹ 19 more variables: passive_methods &lt;chr&gt;, complementary_methods &lt;chr&gt;,
#   period &lt;chr&gt;, month_start &lt;dbl&gt;, year_start &lt;dbl&gt;, month_finish &lt;dbl&gt;,
#   year_finish &lt;dbl&gt;, effort_months &lt;dbl&gt;, country &lt;chr&gt;, state &lt;chr&gt;,
#   state_abbreviation &lt;chr&gt;, municipality &lt;chr&gt;, site &lt;chr&gt;, latitude &lt;dbl&gt;,
#   longitude &lt;dbl&gt;, coordinate_precision &lt;chr&gt;, altitude &lt;dbl&gt;,
#   temperature &lt;dbl&gt;, precipitation &lt;dbl&gt;</code></pre>
</div>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/package_readxl.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://readxl.tidyverse.org/">readxl</a></p>
</div>
</section>
<section class="slide level2 smaller">
<h2>Descrição</h2>
<p>Pacotes para importar e exportar planilhas no formato Excel®</p>
<ul>
<li><p>Carrega e salva grandes arquivos de forma rápida</p></li>
<li><p>As funções fornecem medidores de progresso (<em>big data</em>)</p></li>
<li><p>Classificam o modo (tipo dos dados) de cada coluna</p></li>
<li><p>A classe do objeto atribuído é <code>tibble</code></p></li>
<li><p>Funções:</p></li>
<li><p><code>read_excel()</code>: lê arquivos de planilhas Excel®</p></li>
<li><p><code>read_xls()</code>: lê arquivos de planilhas Excel® (antes de 2010)</p></li>
<li><p><code>write_xlsx()</code>: escreve arquivos de planilhas Excel®</p></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a><span class="co"># importar .xlsx</span></span>
<span id="cb12-2"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"readxl"</span>)</span>
<span id="cb12-3"><a href=""></a><span class="fu">library</span>(<span class="st">"readxl"</span>)</span>
<span id="cb12-4"><a href=""></a></span>
<span id="cb12-5"><a href=""></a><span class="co"># exportar .xlsx</span></span>
<span id="cb12-6"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"writexl"</span>)</span>
<span id="cb12-7"><a href=""></a><span class="fu">library</span>(<span class="st">"writexl"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section class="slide level2">
<h2>Importar dados</h2>
<p><strong>Formato .xlsx</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a><span class="co"># importar xlsx</span></span>
<span id="cb13-2"><a href=""></a>si <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"ATLANTIC_AMPHIBIANS_sites.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb13-3"><a href=""></a>si</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,163 × 25
   id      reference_number species_number record sampled_habitat active_methods
   &lt;chr&gt;              &lt;dbl&gt;          &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;           &lt;chr&gt;         
 1 amp1001             1001             19 ab     fo,ll           as            
 2 amp1002             1002             16 co     fo,la,ll        as            
 3 amp1003             1002             14 co     fo,la,ll        as            
 4 amp1004             1002             13 co     fo,la,ll        as            
 5 amp1005             1003             30 co     fo,ll,br        as            
 6 amp1006             1004             42 co     tp,pp,la,ll,is  NA            
 7 amp1007             1005             23 co     sp              as            
 8 amp1008             1005             19 co     sp,la,sw        as,sb,tr      
 9 amp1009             1005             13 ab     fo              NA            
10 amp1010             1006              1 ab     fo              NA            
# ℹ 1,153 more rows
# ℹ 19 more variables: passive_methods &lt;chr&gt;, complementary_methods &lt;chr&gt;,
#   period &lt;chr&gt;, month_start &lt;chr&gt;, year_start &lt;chr&gt;, month_finish &lt;chr&gt;,
#   year_finish &lt;chr&gt;, effort_months &lt;chr&gt;, country &lt;chr&gt;, state &lt;chr&gt;,
#   state_abbreviation &lt;chr&gt;, municipality &lt;chr&gt;, site &lt;chr&gt;, latitude &lt;dbl&gt;,
#   longitude &lt;dbl&gt;, coordinate_precision &lt;chr&gt;, altitude &lt;dbl&gt;,
#   temperature &lt;chr&gt;, precipitation &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>Exportar dados</h2>
<p><strong>Diversos formatos</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href=""></a><span class="co"># exportar csv</span></span>
<span id="cb15-2"><a href=""></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(si, <span class="st">"ATLANTIC_AMPHIBIANS_sites_exportado.csv"</span>)</span>
<span id="cb15-3"><a href=""></a></span>
<span id="cb15-4"><a href=""></a><span class="co"># exportar txt</span></span>
<span id="cb15-5"><a href=""></a>readr<span class="sc">::</span><span class="fu">write_tsv</span>(si, <span class="st">"ATLANTIC_AMPHIBIANS_sites_exportado.txt"</span>)</span>
<span id="cb15-6"><a href=""></a></span>
<span id="cb15-7"><a href=""></a><span class="co"># exportar excel</span></span>
<span id="cb15-8"><a href=""></a>writexl<span class="sc">::</span><span class="fu">write_xlsx</span>(si, <span class="st">"ATLANTIC_AMPHIBIANS_sites_exportado.xlsx"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/package_tibble.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://tibble.tidyverse.org/">tibble</a></p>
</div>
</section>
<section class="slide level2 smaller">
<h2>Descrição</h2>
<ul>
<li><p>Dados importados de planilhas eletrônicas são <em>data frames</em> (quadro de dados)</p></li>
<li><p><code>tibble</code> (classe <code>tbl_df</code>) é um tipo especial de data frame</p></li>
<li><p>Classe adequada para o funcionamento das das funções do <code>tidyverse</code></p></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a><span class="co"># tibble</span></span>
<span id="cb16-2"><a href=""></a>tb <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb16-3"><a href=""></a>tb</span>
<span id="cb16-4"><a href=""></a></span>
<span id="cb16-5"><a href=""></a><span class="fu">as.data.frame</span>(tb)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<center>
<img src="img/tibble.webp" style="width:45%">
</center>
</section>
<section class="slide level2 smaller">
<h2>Espiando os dados</h2>
<ul>
<li><p>Descrição dos dados: linhas (<em>Rows</em>) e colunas (<em>Columns</em>)</p></li>
<li><p>Descrição das colunas: <em>numbers(int, dbl)</em>, <em>character(chr)</em>, <em>logical(lgl)</em> ou <em>factor(fctr)</em></p></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a><span class="co"># descricao dos dados de sites</span></span>
<span id="cb17-2"><a href=""></a>tibble<span class="sc">::</span><span class="fu">glimpse</span>(si)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,163
Columns: 25
$ id                    &lt;chr&gt; "amp1001", "amp1002", "amp1003", "amp1004", "amp…
$ reference_number      &lt;dbl&gt; 1001, 1002, 1002, 1002, 1003, 1004, 1005, 1005, …
$ species_number        &lt;dbl&gt; 19, 16, 14, 13, 30, 42, 23, 19, 13, 1, 1, 2, 4, …
$ record                &lt;chr&gt; "ab", "co", "co", "co", "co", "co", "co", "co", …
$ sampled_habitat       &lt;chr&gt; "fo,ll", "fo,la,ll", "fo,la,ll", "fo,la,ll", "fo…
$ active_methods        &lt;chr&gt; "as", "as", "as", "as", "as", "NA", "as", "as,sb…
$ passive_methods       &lt;chr&gt; "pt", "pt", "pt", "pt", "NA", "NA", "NA", "NA", …
$ complementary_methods &lt;chr&gt; "NA", "NA", "NA", "NA", "NA", "NA", "NA", "NA", …
$ period                &lt;chr&gt; "mo,da,tw,ni", "mo,da,tw,ni", "mo,da,tw,ni", "mo…
$ month_start           &lt;chr&gt; "9", "12", "12", "12", "7", "NA", "4", "4", "4",…
$ year_start            &lt;chr&gt; "2000", "2007", "2007", "2007", "1988", "NA", "2…
$ month_finish          &lt;chr&gt; "1", "5", "5", "5", "8", "NA", "4", "4", "4", "7…
$ year_finish           &lt;chr&gt; "2002", "2009", "2009", "2009", "2001", "NA", "2…
$ effort_months         &lt;chr&gt; "16", "17", "17", "17", "157", "NA", "24", "24",…
$ country               &lt;chr&gt; "Brazil", "Brazil", "Brazil", "Brazil", "Brazil"…
$ state                 &lt;chr&gt; "Piauí", "Ceará", "Ceará", "Ceará", "Ceará", "Ce…
$ state_abbreviation    &lt;chr&gt; "BR-PI", "BR-CE", "BR-CE", "BR-CE", "BR-CE", "BR…
$ municipality          &lt;chr&gt; "Canto do Buriti", "São Gonçalo do Amarante", "S…
$ site                  &lt;chr&gt; "Parque Nacional Serra das Confusões", "Dunas", …
$ latitude              &lt;dbl&gt; -8.680000, -3.545527, -3.574194, -3.515250, -4.2…
$ longitude             &lt;dbl&gt; -43.42194, -38.85783, -38.88869, -38.91880, -38.…
$ coordinate_precision  &lt;chr&gt; "gm", "dd", "dd", "dd", "gm", "NA", "gms", "gms"…
$ altitude              &lt;dbl&gt; 543, 15, 29, 25, 750, 745, 863, 878, 826, 93, 35…
$ temperature           &lt;chr&gt; "24.98", "26.53", "26.45", "26.55", "21.35", "20…
$ precipitation         &lt;chr&gt; "853", "1318", "1248", "1376", "1689", "1249", "…</code></pre>
</div>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/package_magrittr.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://magrittr.tidyverse.org/">magrittr</a></p>
</div>
</section>
<section class="slide level2">
<h2>René Magritte (1898-1967)</h2>
<ul>
<li><p>Artista surrealista belga</p></li>
<li><p>“Ceci n’est pas une pipe”</p></li>
<li><p>Isso não é um cachimbo</p></li>
</ul>
<p><img data-src="img/tidyverse_magritte_pipe.jpg" class="absolute" style="top: 350px; right: 550px; width: 500px; height: 300px; "></p>
<p><img data-src="img/person_rene_magritte.jpg" class="absolute" style="top: 150px; right: -50px; width: 500px; height: 500px; "></p>
</section>
<section class="slide level2 smaller">
<h2>Descrição</h2>
<ul>
<li><p><em>Pipe</em> pode ser traduzido como “cano” ou “tubo”</p></li>
<li><p>Permite o “encadeamento” de várias funções sem armazenar resultados intermediários</p></li>
<li><p>Captura o resultado de uma função e torna a entrada da próxima função</p></li>
<li><p>Os códigos se tornam mais simples, pois permite a leitura sequencial do mesmo</p></li>
<li><p>Operador pipe: <code>%&gt;%</code></p></li>
<li><p>Atalho: <code>crtl + shift + M</code></p></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a><span class="co"># sem pipe</span></span>
<span id="cb19-2"><a href=""></a>obj <span class="ot">&lt;-</span> <span class="fu">funcao2</span>(<span class="fu">funcao1</span>(dados))</span>
<span id="cb19-3"><a href=""></a></span>
<span id="cb19-4"><a href=""></a><span class="co"># pipe</span></span>
<span id="cb19-5"><a href=""></a>obj <span class="ot">&lt;-</span> dados <span class="sc">%&gt;%</span> </span>
<span id="cb19-6"><a href=""></a>  <span class="fu">funcao1</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb19-7"><a href=""></a>  <span class="fu">funcao2</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1>Se preparem para uma revisão de funções compostas</h1>

</section>
<section class="slide level2">
<h2>Função composta</h2>
<p><strong>Função composta no R</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a><span class="co"># sem pipe</span></span>
<span id="cb20-2"><a href=""></a><span class="fu">sqrt</span>(<span class="fu">sum</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 71.06335</code></pre>
</div>
</div>
<p><img data-src="img/general_fog01.jpg" class="absolute" style="top: 350px; right: 550px; width: 500px; height: 250px; "></p>
<p><img data-src="img/general_fog02.jpg" class="absolute" style="top: 250px; right: 0px; width: 450px; height: 450px; "></p>
</section>
<section class="slide level2 smaller">
<h2>pipe</h2>
<p><strong>Sem pipe</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a><span class="co"># sem pipe</span></span>
<span id="cb22-2"><a href=""></a><span class="fu">sqrt</span>(<span class="fu">sum</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 71.06335</code></pre>
</div>
</div>
<p><strong>Com pipe</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="co"># com pipe</span></span>
<span id="cb24-2"><a href=""></a><span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="sc">%&gt;%</span> </span>
<span id="cb24-3"><a href=""></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb24-4"><a href=""></a>  <span class="fu">sqrt</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 71.06335</code></pre>
</div>
</div>
<p><img data-src="img/gif_mario.gif" class="absolute" style="top: 400px; right: 430px; width: 350px; height: 300px; "></p>
<p><img data-src="img/waterfall.gif" class="absolute" style="top: 400px; right: 0px; width: 400px; height: 300px; "></p>
</section>
<section class="slide level2">
<h2>pipe</h2>
<p><strong>Sem pipe</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a><span class="co"># fixar amostragem</span></span>
<span id="cb26-2"><a href=""></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb26-3"><a href=""></a></span>
<span id="cb26-4"><a href=""></a><span class="co"># sem pipe</span></span>
<span id="cb26-5"><a href=""></a>ve <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">sum</span>(<span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">60</span>, <span class="dv">6</span>)))</span>
<span id="cb26-6"><a href=""></a>ve</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12.32883</code></pre>
</div>
</div>
<p><strong>Com pipe</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a><span class="co"># fixar amostragem</span></span>
<span id="cb28-2"><a href=""></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb28-3"><a href=""></a></span>
<span id="cb28-4"><a href=""></a><span class="co"># com pipe</span></span>
<span id="cb28-5"><a href=""></a>ve <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">60</span>, <span class="dv">6</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-6"><a href=""></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb28-7"><a href=""></a>  <span class="fu">sqrt</span>() </span>
<span id="cb28-8"><a href=""></a>ve  </span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12.32883</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>Exercício</h2>
<p>Reescreva cada uma das operações utilizando pipes <code>%&gt;%</code></p>
<p><code>log10(cumsum(1:100))</code></p>
<p><code>sum(sqrt(abs(rnorm(100))))</code></p>
<p><code>sum(log(sample(1:10, 10000, rep = TRUE)))</code></p>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_c9d23c4b" data-update-every="1" data-play-sound="true" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section class="slide level2">
<h2>Exercício</h2>
<p><strong>Solução</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href=""></a><span class="co"># solucao 1</span></span>
<span id="cb30-2"><a href=""></a><span class="fu">log10</span>(<span class="fu">cumsum</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>))</span>
<span id="cb30-3"><a href=""></a></span>
<span id="cb30-4"><a href=""></a><span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href=""></a>  <span class="fu">cumsum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb30-6"><a href=""></a>  <span class="fu">log10</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section class="slide level2">
<h2>Exercício</h2>
<p><strong>Solução</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href=""></a><span class="co"># solucao 2</span></span>
<span id="cb31-2"><a href=""></a><span class="fu">sum</span>(<span class="fu">sqrt</span>(<span class="fu">abs</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>))))</span>
<span id="cb31-3"><a href=""></a></span>
<span id="cb31-4"><a href=""></a><span class="fu">rnorm</span>(<span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb31-5"><a href=""></a>  <span class="fu">abs</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb31-6"><a href=""></a>  <span class="fu">sqrt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb31-7"><a href=""></a>  <span class="fu">sum</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section class="slide level2">
<h2>Exercício</h2>
<p><strong>Solução</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href=""></a><span class="co"># solucao 3</span></span>
<span id="cb32-2"><a href=""></a><span class="fu">sum</span>(<span class="fu">log</span>(<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">10000</span>, <span class="at">rep =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb32-3"><a href=""></a></span>
<span id="cb32-4"><a href=""></a><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">10000</span>, <span class="at">rep =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb32-5"><a href=""></a>  <span class="fu">log</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb32-6"><a href=""></a>  <span class="fu">sum</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section></section>
<section class="title-slide slide level1 center">
<h1>Para apresentar os próximos pacotes, vamos usar dados de pinguins!</h1>

</section>

<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/package_palmerpenguins.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a></p>
</div>
</section>
<section class="slide level2 smaller">
<h2>palmerpenguins</h2>
<ul>
<li><p>Dados de medidas de pinguins chamados <code>palmerpenguins</code></p></li>
<li><p>Dados coletados e disponibilizados pela <a href="https://www.uaf.edu/cfos/people/faculty/detail/kristen-gorman.php">Dra. Kristen Gorman</a> e pela <a href="https://pal.lternet.edu/">Palmer Station, Antarctica LTER</a>, membro da <a href="https://lternet.edu/">Long Term Ecological Research Network</a></p></li>
<li><p>Dois conjuntos de dados:</p></li>
<li><p><code>penguins_raw</code> (dados brutos)</p></li>
<li><p><code>penguins</code> (versão simplificada)</p></li>
</ul>
<p><img data-src="img/lter_penguins.png" class="absolute" style="top: 300px; right: -50px; width: 700px; height: 400px; "></p>
<div class="footer">
<p><a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a></p>
</div>
</section>
<section class="slide level2">
<h2>palmerpenguins</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href=""></a><span class="co"># instalar </span></span>
<span id="cb33-2"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"palmerpenguins"</span>)</span>
<span id="cb33-3"><a href=""></a></span>
<span id="cb33-4"><a href=""></a><span class="co"># carregar</span></span>
<span id="cb33-5"><a href=""></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb33-6"><a href=""></a></span>
<span id="cb33-7"><a href=""></a><span class="co"># ajuda dos dados</span></span>
<span id="cb33-8"><a href=""></a>?penguins</span>
<span id="cb33-9"><a href=""></a>?penguins_raw</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<center>
<img src="img/culmen_depth.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a></p>
</div>
</section>
<section class="slide level2">
<h2>palmerpenguins</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href=""></a><span class="co"># visualizar os dados</span></span>
<span id="cb34-2"><a href=""></a>penguins</span>
<span id="cb34-3"><a href=""></a>penguins_raw</span>
<span id="cb34-4"><a href=""></a></span>
<span id="cb34-5"><a href=""></a><span class="co"># glimpse</span></span>
<span id="cb34-6"><a href=""></a>tibble<span class="sc">::</span><span class="fu">glimpse</span>(penguins)</span>
<span id="cb34-7"><a href=""></a>tibble<span class="sc">::</span><span class="fu">glimpse</span>(penguins_raw)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><br></p>
<center>
<img src="img/culmen_depth.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a></p>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/package_tidyr.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://tidyr.tidyverse.org/">tidyr</a></p>
</div>
</section>
<section class="slide level2 smaller">
<h2>Descrição</h2>
<ul>
<li><p>Funções para tornar um conjunto de dados <em>tidy</em> (organizados), facilitando a manipulação, modelagem e visualização</p></li>
<li><p>Um conjunto de dados é condiderando <em>tidy</em> quando:</p></li>
</ul>
<ol type="1">
<li>Cada variável está em uma coluna</li>
<li>Cada observação está em uma linha</li>
<li>Cada valor está em uma célula</li>
</ol>
<center>
<img src="img/tidyr_data01.png" style="width:100%">
</center>
<div class="footer">
<p><a href="https://r4ds.had.co.nz/">Wickham &amp; Grolemund (2017)</a></p>
</div>
</section>
<section class="slide level2 smaller">
<h2>Funções</h2>
<center>
<img src="img/tidyr_data02.jpg" style="width:100%">
</center>
<div class="footer">
<p>Artwork by <a href="https://x.com/allison_horst"><span class="citation" data-cites="allison_horst">@allison_horst</span></a></p>
</div>
</section>
<section class="slide level2">
<h2>unite</h2>
<p>Une dados de múltiplas colunas em apenas uma coluna</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href=""></a><span class="co"># unir colunas</span></span>
<span id="cb35-2"><a href=""></a>penguins_raw_unir <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">unite</span>(<span class="at">data =</span> penguins_raw, </span>
<span id="cb35-3"><a href=""></a>                                  <span class="at">col =</span> <span class="st">"region_island"</span>,</span>
<span id="cb35-4"><a href=""></a>                                  Region<span class="sc">:</span>Island, </span>
<span id="cb35-5"><a href=""></a>                                  <span class="at">sep =</span> <span class="st">", "</span>,</span>
<span id="cb35-6"><a href=""></a>                                  <span class="at">remove =</span> <span class="cn">FALSE</span>)</span>
<span id="cb35-7"><a href=""></a><span class="fu">head</span>(penguins_raw_unir[, <span class="fu">c</span>(<span class="st">"Region"</span>, <span class="st">"Island"</span>, <span class="st">"region_island"</span>)])</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  Region Island    region_island    
  &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;            
1 Anvers Torgersen Anvers, Torgersen
2 Anvers Torgersen Anvers, Torgersen
3 Anvers Torgersen Anvers, Torgersen
4 Anvers Torgersen Anvers, Torgersen
5 Anvers Torgersen Anvers, Torgersen
6 Anvers Torgersen Anvers, Torgersen</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>separate</h2>
<p>Separa caracteres de uma coluna em múltiplas colunas</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href=""></a><span class="co"># separar colunas</span></span>
<span id="cb37-2"><a href=""></a>penguins_raw_separar <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">separate</span>(<span class="at">data =</span> penguins_raw, </span>
<span id="cb37-3"><a href=""></a>                                        <span class="at">col =</span> Stage,</span>
<span id="cb37-4"><a href=""></a>                                        <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"stage"</span>, <span class="st">"egg_stage"</span>), </span>
<span id="cb37-5"><a href=""></a>                                        <span class="at">sep =</span> <span class="st">", "</span>,</span>
<span id="cb37-6"><a href=""></a>                                        <span class="at">remove =</span> <span class="cn">FALSE</span>)</span>
<span id="cb37-7"><a href=""></a><span class="fu">head</span>(penguins_raw_separar[, <span class="fu">c</span>(<span class="st">"Stage"</span>, <span class="st">"stage"</span>, <span class="st">"egg_stage"</span>)])</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  Stage              stage egg_stage  
  &lt;chr&gt;              &lt;chr&gt; &lt;chr&gt;      
1 Adult, 1 Egg Stage Adult 1 Egg Stage
2 Adult, 1 Egg Stage Adult 1 Egg Stage
3 Adult, 1 Egg Stage Adult 1 Egg Stage
4 Adult, 1 Egg Stage Adult 1 Egg Stage
5 Adult, 1 Egg Stage Adult 1 Egg Stage
6 Adult, 1 Egg Stage Adult 1 Egg Stage</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>drop_na</h2>
<p>Remove linhas com <code>NA</code> de todas as colunas</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href=""></a><span class="co"># remover linhas com na</span></span>
<span id="cb39-2"><a href=""></a>penguins_raw_todas_na <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">drop_na</span>(<span class="at">data =</span> penguins_raw)</span>
<span id="cb39-3"><a href=""></a><span class="fu">head</span>(penguins_raw_todas_na)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 17
  studyName `Sample Number` Species          Region Island Stage `Individual ID`
  &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;          
1 PAL0708                 7 Adelie Penguin … Anvers Torge… Adul… N4A1           
2 PAL0708                 8 Adelie Penguin … Anvers Torge… Adul… N4A2           
3 PAL0708                29 Adelie Penguin … Anvers Biscoe Adul… N18A1          
4 PAL0708                30 Adelie Penguin … Anvers Biscoe Adul… N18A2          
5 PAL0708                39 Adelie Penguin … Anvers Dream  Adul… N25A1          
6 PAL0809                69 Adelie Penguin … Anvers Torge… Adul… N32A1          
# ℹ 10 more variables: `Clutch Completion` &lt;chr&gt;, `Date Egg` &lt;date&gt;,
#   `Culmen Length (mm)` &lt;dbl&gt;, `Culmen Depth (mm)` &lt;dbl&gt;,
#   `Flipper Length (mm)` &lt;dbl&gt;, `Body Mass (g)` &lt;dbl&gt;, Sex &lt;chr&gt;,
#   `Delta 15 N (o/oo)` &lt;dbl&gt;, `Delta 13 C (o/oo)` &lt;dbl&gt;, Comments &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>drop_na</h2>
<p>Remove linhas com <code>NA</code> de uma única coluna</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href=""></a><span class="co"># remover linhas com na de uma coluna</span></span>
<span id="cb41-2"><a href=""></a>penguins_raw_colunas_na <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">drop_na</span>(<span class="at">data =</span> penguins_raw,</span>
<span id="cb41-3"><a href=""></a>                                          <span class="fu">any_of</span>(<span class="st">"Comments"</span>))</span>
<span id="cb41-4"><a href=""></a><span class="fu">head</span>(penguins_raw_colunas_na[, <span class="st">"Comments"</span>])</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  Comments                             
  &lt;chr&gt;                                
1 Not enough blood for isotopes.       
2 Adult not sampled.                   
3 Nest never observed with full clutch.
4 Nest never observed with full clutch.
5 No blood sample obtained.            
6 No blood sample obtained for sexing. </code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>Pivotar os dados</h2>
<p><strong>Dados long e dados wide</strong></p>
<center>
<img src="img/tidyr_pivot_wider.png" style="width:75%">
</center>
<div class="fragment">
<center>
<img src="img/tidyr_pivot_longer.png" style="width:75%">
</center>
</div>
</section>
<section class="slide level2">
<h2>Pivotar os dados</h2>
<p><strong>Dados long e dados wide</strong></p>
<p><img data-src="img/tidyr_tb_pivot.png" class="absolute" style="top: 150px; right: 520px; width: 700px; height: 500px; "> <img data-src="img/gif_tidyr_pivot.gif" class="absolute" style="top: 100px; right: -120px; width: 600px; height: 550px; "></p>
</section>
<section class="slide level2">
<h2>pivot_wider()</h2>
<p><strong>Long para wide</strong></p>
<div style="font-size: 70%;">
<ol type="1">
<li><strong>names_from</strong>: variável categórica que definirá os nomes das colunas</li>
<li><strong>values_from</strong>: variável numérica que preencherá os dados</li>
<li><strong>values_fill</strong>: valor para preencher os NAs</li>
</ol>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href=""></a><span class="co"># long para wide</span></span>
<span id="cb43-2"><a href=""></a>penguins_raw_pivot_wider <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">data =</span> penguins_raw[, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">13</span>)], </span>
<span id="cb43-3"><a href=""></a>                                               <span class="at">names_from =</span> Species, </span>
<span id="cb43-4"><a href=""></a>                                               <span class="at">values_from =</span> <span class="st">`</span><span class="at">Body Mass (g)</span><span class="st">`</span>)</span>
<span id="cb43-5"><a href=""></a><span class="fu">head</span>(penguins_raw_pivot_wider)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  `Sample Number` `Adelie Penguin (Pygoscelis adeliae)` Gentoo penguin (Pygosc…¹
            &lt;dbl&gt;                                 &lt;dbl&gt;                    &lt;dbl&gt;
1               1                                  3750                     4500
2               2                                  3800                     5700
3               3                                  3250                     4450
4               4                                    NA                     5700
5               5                                  3450                     5400
6               6                                  3650                     4550
# ℹ abbreviated name: ¹​`Gentoo penguin (Pygoscelis papua)`
# ℹ 1 more variable: `Chinstrap penguin (Pygoscelis antarctica)` &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</section>
<section class="slide level2">
<h2>pivot_longer()</h2>
<p><strong>Wide para long</strong></p>
<div style="font-size: 70%;">
<ol type="1">
<li><strong>names_to</strong>: nome da coluna que receberá os nomes</li>
<li><strong>values_to</strong>: nome da coluna que receberá os valores</li>
</ol>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href=""></a><span class="co"># wide para long</span></span>
<span id="cb45-2"><a href=""></a>penguins_raw_pivot_longer <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">data =</span> penguins_raw[, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">10</span><span class="sc">:</span><span class="dv">13</span>)], </span>
<span id="cb45-3"><a href=""></a>                                                 <span class="at">cols =</span> <span class="st">`</span><span class="at">Culmen Length (mm)</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">Body Mass (g)</span><span class="st">`</span>,</span>
<span id="cb45-4"><a href=""></a>                                                 <span class="at">names_to =</span> <span class="st">"medidas"</span>, </span>
<span id="cb45-5"><a href=""></a>                                                 <span class="at">values_to =</span> <span class="st">"valores"</span>)</span>
<span id="cb45-6"><a href=""></a><span class="fu">head</span>(penguins_raw_pivot_longer)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  `Sample Number` Species                             medidas            valores
            &lt;dbl&gt; &lt;chr&gt;                               &lt;chr&gt;                &lt;dbl&gt;
1               1 Adelie Penguin (Pygoscelis adeliae) Culmen Length (mm)    39.1
2               1 Adelie Penguin (Pygoscelis adeliae) Culmen Depth (mm)     18.7
3               1 Adelie Penguin (Pygoscelis adeliae) Flipper Length (m…   181  
4               1 Adelie Penguin (Pygoscelis adeliae) Body Mass (g)       3750  
5               2 Adelie Penguin (Pygoscelis adeliae) Culmen Length (mm)    39.5
6               2 Adelie Penguin (Pygoscelis adeliae) Culmen Depth (mm)     17.4</code></pre>
</div>
</div>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/package_dplyr.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://dplyr.tidyverse.org/">dplyr</a></p>
</div>
</section>
<section class="slide level2">
<h2>Descrição</h2>
<p>Funções que facilitam a manipulação de dados</p>
<center>
<img src="img/dplyr_functions.png" style="width:60%">
</center>
</section>
<section class="slide level2 smaller">
<h2>Funções</h2>
<p>Gramática simples que contém funções verbais para a manipulação de dados</p>
<p><br></p>
<ul>
<li>Verbos: <code>mutate()</code>, <code>select()</code>, <code>filter()</code>, <code>arrange()</code>, <code>summarise()</code>, <code>slice()</code>, <code>rename()</code>, etc.</li>
<li>Replicação: <code>across()</code>, <code>if_any()</code>, <code>if_all()</code>, <code>where()</code>, <code>starts_with()</code>, <code>ends_with()</code>, <code>contains()</code>, etc.</li>
<li>Agrupamento: <code>group_by()</code> e <code>ungroup()</code></li>
<li>Junções: <code>inner_join()</code>, <code>full_join()</code>, <code>left_join()</code>, <code>right_join()</code>, etc.</li>
<li>Combinações: <code>bind_rows()</code> e <code>bind_cols()</code></li>
<li>Resumos, contagem e seleção: <code>n()</code>, <code>n_distinct()</code>, <code>first()</code>, <code>last()</code>, <code>nth()</code>, etc.</li>
</ul>
</section>
<section class="slide level2 smaller">
<h2>Funções</h2>
<p><strong>Colunas</strong></p>
<p><code>relocate()</code>: muda a ordem das colunas<br>
<code>rename()</code>: muda o nome das colunas<br>
<code>select()</code>: seleciona colunas pelo nome ou posição<br>
<code>pull()</code>: seleciona uma coluna como vetor<br>
<code>mutate()</code>: adiciona novas colunas ou resultados em colunas existentes</p>
<p><strong>Linhas</strong></p>
<p><code>arrange()</code>: reordena as linhas com base nos valores de colunas<br>
<code>filter()</code>: seleciona linhas com base em valores de colunas<br>
<code>slice()</code>: seleciona linhas de diferente formas<br>
<code>distinct()</code>: remove linhas com valores repetidos com base nos valores de colunas</p>
<p><strong>Agrupamento</strong></p>
<p><code>count()</code>: conta observações para uma ou mais coluna<br>
<code>group_by()</code>: agrupa linhas pelos valores das colunas<br>
<code>summarise()</code>: resume os dados através de funções considerando valores das colunas</p>
</section>
<section class="slide level2 smaller">
<h2>Sintaxe</h2>
<ul>
<li><p>O <code>tibble</code> é sempre o primeiro argumento das funções verbais</p></li>
<li><p>Todas seguem a mesma sintaxe:</p></li>
</ul>
<ol type="1">
<li>tibble</li>
<li>operador pipe</li>
<li>nome da função verbal com os argumentos entre parênteses</li>
</ol>
<p>As funções verbais não modificam o tibble original</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href=""></a><span class="co"># sintaxe</span></span>
<span id="cb47-2"><a href=""></a>tb_dplyr <span class="ot">&lt;-</span> tb <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href=""></a>  <span class="fu">funcao_verbal1</span>(argumento1, argumento2, ...) <span class="sc">%&gt;%</span> </span>
<span id="cb47-4"><a href=""></a>  <span class="fu">funcao_verbal2</span>(argumento1, argumento2, ...) <span class="sc">%&gt;%</span> </span>
<span id="cb47-5"><a href=""></a>  <span class="fu">funcao_verbal3</span>(argumento1, argumento2, ...)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section class="slide level2">
<h2>relocate</h2>
<p>Reordena colunas por nome ou posição</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href=""></a><span class="co"># reordenar colunas - nome</span></span>
<span id="cb48-2"><a href=""></a>penguins_relocate_col <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb48-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">relocate</span>(sex, year, <span class="at">.after =</span> island)</span>
<span id="cb48-4"><a href=""></a><span class="fu">head</span>(penguins_relocate_col)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    sex     year bill_length_mm bill_depth_mm flipper_length_mm
  &lt;fct&gt;   &lt;fct&gt;     &lt;fct&gt;  &lt;int&gt;          &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
1 Adelie  Torgersen male    2007           39.1          18.7               181
2 Adelie  Torgersen female  2007           39.5          17.4               186
3 Adelie  Torgersen female  2007           40.3          18                 195
4 Adelie  Torgersen &lt;NA&gt;    2007           NA            NA                  NA
5 Adelie  Torgersen female  2007           36.7          19.3               193
6 Adelie  Torgersen male    2007           39.3          20.6               190
# ℹ 1 more variable: body_mass_g &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>relocate</h2>
<p>Reordena colunas por nome ou posição</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href=""></a><span class="co"># reordenar colunas - posicao</span></span>
<span id="cb50-2"><a href=""></a>penguins_relocate_ncol <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb50-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">relocate</span>(sex, year, <span class="at">.after =</span> <span class="dv">2</span>)</span>
<span id="cb50-4"><a href=""></a><span class="fu">head</span>(penguins_relocate_ncol)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    sex     year bill_length_mm bill_depth_mm flipper_length_mm
  &lt;fct&gt;   &lt;fct&gt;     &lt;fct&gt;  &lt;int&gt;          &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
1 Adelie  Torgersen male    2007           39.1          18.7               181
2 Adelie  Torgersen female  2007           39.5          17.4               186
3 Adelie  Torgersen female  2007           40.3          18                 195
4 Adelie  Torgersen &lt;NA&gt;    2007           NA            NA                  NA
5 Adelie  Torgersen female  2007           36.7          19.3               193
6 Adelie  Torgersen male    2007           39.3          20.6               190
# ℹ 1 more variable: body_mass_g &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>rename</h2>
<p>Renomeia colunas</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href=""></a><span class="co"># renomear colunas</span></span>
<span id="cb52-2"><a href=""></a>penguins_rename <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">bill_length =</span> bill_length_mm,</span>
<span id="cb52-4"><a href=""></a>                <span class="at">bill_depth =</span> bill_depth_mm,</span>
<span id="cb52-5"><a href=""></a>                <span class="at">flipper_length =</span> flipper_length_mm,</span>
<span id="cb52-6"><a href=""></a>                <span class="at">body_mass =</span> body_mass_g)</span>
<span id="cb52-7"><a href=""></a><span class="fu">head</span>(penguins_rename)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length bill_depth flipper_length body_mass sex     year
  &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;      &lt;dbl&gt;          &lt;int&gt;     &lt;int&gt; &lt;fct&gt;  &lt;int&gt;
1 Adelie  Torgersen        39.1       18.7            181      3750 male    2007
2 Adelie  Torgersen        39.5       17.4            186      3800 female  2007
3 Adelie  Torgersen        40.3       18              195      3250 female  2007
4 Adelie  Torgersen        NA         NA               NA        NA &lt;NA&gt;    2007
5 Adelie  Torgersen        36.7       19.3            193      3450 female  2007
6 Adelie  Torgersen        39.3       20.6            190      3650 male    2007</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>select</h2>
<p>Seleciona colunas pela posição ou nome</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href=""></a><span class="co"># selecionar colunas por posicao</span></span>
<span id="cb54-2"><a href=""></a>penguins_select_position <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb54-4"><a href=""></a><span class="fu">head</span>(penguins_select_position)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1           39.1          18.7               181        3750
2           39.5          17.4               186        3800
3           40.3          18                 195        3250
4           NA            NA                  NA          NA
5           36.7          19.3               193        3450
6           39.3          20.6               190        3650</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>select</h2>
<p>Seleciona colunas pela posição ou nome</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href=""></a><span class="co"># selecionar colunas por nomes</span></span>
<span id="cb56-2"><a href=""></a>penguins_select_names <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb56-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(bill_length_mm<span class="sc">:</span>body_mass_g)</span>
<span id="cb56-4"><a href=""></a><span class="fu">head</span>(penguins_select_names)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1           39.1          18.7               181        3750
2           39.5          17.4               186        3800
3           40.3          18                 195        3250
4           NA            NA                  NA          NA
5           36.7          19.3               193        3450
6           39.3          20.6               190        3650</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>select</h2>
<p>Remove colunas pela posição ou nome</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href=""></a><span class="co"># remover colunas pelo nome</span></span>
<span id="cb58-2"><a href=""></a>penguins_select_names_remove <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb58-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>(bill_length_mm<span class="sc">:</span>body_mass_g))</span>
<span id="cb58-4"><a href=""></a><span class="fu">head</span>(penguins_select_names_remove)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  species island    sex     year
  &lt;fct&gt;   &lt;fct&gt;     &lt;fct&gt;  &lt;int&gt;
1 Adelie  Torgersen male    2007
2 Adelie  Torgersen female  2007
3 Adelie  Torgersen female  2007
4 Adelie  Torgersen &lt;NA&gt;    2007
5 Adelie  Torgersen female  2007
6 Adelie  Torgersen male    2007</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>select</h2>
<p>Seleciona ou remove colunas por um padrão nos nomes</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href=""></a><span class="co"># selecionar colunas por padrao - starts_with(), ends_with() e contains()</span></span>
<span id="cb60-2"><a href=""></a>penguins_select_contains <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"_mm"</span>))</span>
<span id="cb60-4"><a href=""></a><span class="fu">head</span>(penguins_select_contains)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  bill_length_mm bill_depth_mm flipper_length_mm
           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
1           39.1          18.7               181
2           39.5          17.4               186
3           40.3          18                 195
4           NA            NA                  NA
5           36.7          19.3               193
6           39.3          20.6               190</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>pull</h2>
<p>Seleciona uma coluna como vetor</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href=""></a><span class="co"># coluna para vetor</span></span>
<span id="cb62-2"><a href=""></a>penguins_select_pull <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb62-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">pull</span>(bill_length_mm)</span>
<span id="cb62-4"><a href=""></a><span class="fu">head</span>(penguins_select_pull, <span class="dv">15</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 39.1 39.5 40.3   NA 36.7 39.3 38.9 39.2 34.1 42.0 37.8 37.8 41.1 38.6 34.6</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>mutate</h2>
<p>Adiciona colunas novas ou advindas de operações</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href=""></a><span class="co"># adicionar colunas</span></span>
<span id="cb64-2"><a href=""></a>penguins_mutate <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb64-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">body_mass_kg =</span> body_mass_g<span class="sc">/</span><span class="fl">1e3</span>, <span class="at">.before =</span> sex)</span>
<span id="cb64-4"><a href=""></a><span class="fu">head</span>(penguins_mutate)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 9
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 3 more variables: body_mass_kg &lt;dbl&gt;, sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>arrange</h2>
<p>Reordena linhas de forma crescente pelos valores de uma coluna</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href=""></a><span class="co"># reordenar os valores por ordem crescente</span></span>
<span id="cb66-2"><a href=""></a>penguins_arrange <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb66-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(body_mass_g)</span>
<span id="cb66-4"><a href=""></a><span class="fu">head</span>(penguins_arrange)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species   island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;     &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Chinstrap Dream               46.9          16.6               192        2700
2 Adelie    Biscoe              36.5          16.6               181        2850
3 Adelie    Biscoe              36.4          17.1               184        2850
4 Adelie    Biscoe              34.5          18.1               187        2900
5 Adelie    Dream               33.1          16.1               178        2900
6 Adelie    Torgersen           38.6          17                 188        2900
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>arrange</h2>
<p>Reordena linhas de forma decrescente pelos valores de uma coluna</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href=""></a><span class="co"># reordenar os valores por ordem decrescente</span></span>
<span id="cb68-2"><a href=""></a>penguins_arrange_desc <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb68-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(body_mass_g))</span>
<span id="cb68-4"><a href=""></a><span class="fu">head</span>(penguins_arrange_desc)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Gentoo  Biscoe           49.2          15.2               221        6300
2 Gentoo  Biscoe           59.6          17                 230        6050
3 Gentoo  Biscoe           51.1          16.3               220        6000
4 Gentoo  Biscoe           48.8          16.2               222        6000
5 Gentoo  Biscoe           45.2          16.4               223        5950
6 Gentoo  Biscoe           49.8          15.9               229        5950
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>arrange</h2>
<p>Reordena linhas de forma decrescente pelos valores de uma coluna</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href=""></a><span class="co"># reordenar os valores por ordem decrescente</span></span>
<span id="cb70-2"><a href=""></a>penguins_arrange_desc_m <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb70-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>body_mass_g)</span>
<span id="cb70-4"><a href=""></a><span class="fu">head</span>(penguins_arrange_desc_m)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Gentoo  Biscoe           49.2          15.2               221        6300
2 Gentoo  Biscoe           59.6          17                 230        6050
3 Gentoo  Biscoe           51.1          16.3               220        6000
4 Gentoo  Biscoe           48.8          16.2               222        6000
5 Gentoo  Biscoe           45.2          16.4               223        5950
6 Gentoo  Biscoe           49.8          15.9               229        5950
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>filter</h2>
<p>Filtra linhas por valores de uma coluna</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href=""></a><span class="co"># filtrar linhas por valores de uma coluna</span></span>
<span id="cb72-2"><a href=""></a>penguins_filter <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb72-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Adelie"</span>)</span>
<span id="cb72-4"><a href=""></a><span class="fu">head</span>(penguins_filter)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>filter</h2>
<p>Filtra linhas por valores de várias colunas</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href=""></a><span class="co"># filtrar linhas por valores de duas colunas</span></span>
<span id="cb74-2"><a href=""></a>penguins_filter_two <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb74-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Adelie"</span> <span class="sc">&amp;</span> sex <span class="sc">==</span> <span class="st">"female"</span>)</span>
<span id="cb74-4"><a href=""></a><span class="fu">head</span>(penguins_filter_two)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Torgersen           39.5          17.4               186        3800
2 Adelie  Torgersen           40.3          18                 195        3250
3 Adelie  Torgersen           36.7          19.3               193        3450
4 Adelie  Torgersen           38.9          17.8               181        3625
5 Adelie  Torgersen           41.1          17.6               182        3200
6 Adelie  Torgersen           36.6          17.8               185        3700
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>filter</h2>
<p>Filtra linhas por vários valores de várias colunas</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href=""></a><span class="co"># filtrar linhas por mais de um valor e mais de uma coluna</span></span>
<span id="cb76-2"><a href=""></a>penguins_filter_in <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb76-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Gentoo"</span>),</span>
<span id="cb76-4"><a href=""></a>                sex <span class="sc">==</span> <span class="st">"female"</span>)</span>
<span id="cb76-5"><a href=""></a><span class="fu">head</span>(penguins_filter_in)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Torgersen           39.5          17.4               186        3800
2 Adelie  Torgersen           40.3          18                 195        3250
3 Adelie  Torgersen           36.7          19.3               193        3450
4 Adelie  Torgersen           38.9          17.8               181        3625
5 Adelie  Torgersen           41.1          17.6               182        3200
6 Adelie  Torgersen           36.6          17.8               185        3700
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>slice</h2>
<p>Seleciona linhas por intervalos, indicando quais linhas desejamos</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href=""></a><span class="co"># selecionar linhas por intervalos</span></span>
<span id="cb78-2"><a href=""></a>penguins_slice <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb78-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">slice</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">300</span><span class="sc">:</span><span class="fu">n</span>()))</span>
<span id="cb78-4"><a href=""></a><span class="fu">head</span>(penguins_slice)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species   island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;     &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie    Torgersen           39.1          18.7               181        3750
2 Adelie    Torgersen           40.3          18                 195        3250
3 Chinstrap Dream               50.6          19.4               193        3800
4 Chinstrap Dream               46.7          17.9               195        3300
5 Chinstrap Dream               52            19                 197        4150
6 Chinstrap Dream               50.5          18.4               200        3400
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>slice</h2>
<p>Seleciona linhas iniciais</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href=""></a><span class="co"># selecionar linhas iniciais</span></span>
<span id="cb80-2"><a href=""></a>penguins_slice_head <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb80-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb80-4"><a href=""></a><span class="fu">head</span>(penguins_slice_head)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>slice</h2>
<p>Seleciona linhas aleatoriamente, com e sem reposição</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href=""></a><span class="co"># selecionar linhas aleatoriamente</span></span>
<span id="cb82-2"><a href=""></a>penguins_slice_sample <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb82-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">30</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb82-4"><a href=""></a><span class="fu">head</span>(penguins_slice_sample)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species   island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;     &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie    Dream               39            18.7               185        3650
2 Adelie    Torgersen           37.7          19.8               198        3500
3 Adelie    Dream               36            17.9               190        3450
4 Adelie    Torgersen           41.5          18.3               195        4300
5 Chinstrap Dream               50.5          18.4               200        3400
6 Adelie    Biscoe              38.2          18.1               185        3950
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>distinct</h2>
<p>Retira linhas com valores duplicados com base nos valores de colunas</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href=""></a><span class="co"># retirar linhas com valores duplicados</span></span>
<span id="cb84-2"><a href=""></a>penguins_distinct <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb84-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(body_mass_g)</span>
<span id="cb84-4"><a href=""></a><span class="fu">head</span>(penguins_distinct)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  body_mass_g
        &lt;int&gt;
1        3750
2        3800
3        3250
4          NA
5        3450
6        3650</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>distinct</h2>
<p>Retira linhas com valores duplicados com base nos valores de colunas, mas mantendo as colunas</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href=""></a><span class="co"># retirar linhas com valores duplicados e manter colunas</span></span>
<span id="cb86-2"><a href=""></a>penguins_distinct_keep_all <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb86-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(body_mass_g, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb86-4"><a href=""></a><span class="fu">head</span>(penguins_distinct_keep_all)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>count</h2>
<p>Conta valores de uma ou mais colunas (variáveis categóricas)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href=""></a><span class="co"># contagens de valores para uma coluna</span></span>
<span id="cb88-2"><a href=""></a>penguins_count <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb88-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(species)</span>
<span id="cb88-4"><a href=""></a>penguins_count</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  species       n
  &lt;fct&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68
3 Gentoo      124</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>count</h2>
<p>Conta valores de uma ou mais colunas (variáveis categóricas)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href=""></a><span class="co"># contagens de valores para mais de uma coluna</span></span>
<span id="cb90-2"><a href=""></a>penguins_count_two <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb90-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(species, island)</span>
<span id="cb90-4"><a href=""></a>penguins_count_two</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  species   island        n
  &lt;fct&gt;     &lt;fct&gt;     &lt;int&gt;
1 Adelie    Biscoe       44
2 Adelie    Dream        56
3 Adelie    Torgersen    52
4 Chinstrap Dream        68
5 Gentoo    Biscoe      124</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>count</h2>
<p>Conta valores de uma ou mais colunas (variáveis categóricas) ordenando a contagem</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href=""></a><span class="co"># contagens de valores para mais de uma coluna</span></span>
<span id="cb92-2"><a href=""></a>penguins_count_two_sort <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb92-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(species, island, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb92-4"><a href=""></a>penguins_count_two_sort</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  species   island        n
  &lt;fct&gt;     &lt;fct&gt;     &lt;int&gt;
1 Gentoo    Biscoe      124
2 Chinstrap Dream        68
3 Adelie    Dream        56
4 Adelie    Torgersen    52
5 Adelie    Biscoe       44</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>group_by</h2>
<p>Transforma um <code>tibble</code> em um <code>tibble agrupado</code>, onde as operações são realizadas “por grupo”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href=""></a><span class="co"># agrupamento</span></span>
<span id="cb94-2"><a href=""></a>penguins_group_by <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb94-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(species)</span>
<span id="cb94-4"><a href=""></a><span class="fu">head</span>(penguins_group_by)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
# Groups:   species [1]
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>summarise</h2>
<p>Agrega ou resume dados através de funções síntese</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href=""></a><span class="co"># resumo</span></span>
<span id="cb96-2"><a href=""></a>penguins_summarise <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb96-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb96-4"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">body_mass_g_mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb96-5"><a href=""></a>                   <span class="at">body_mass_g_sd =</span> <span class="fu">sd</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb96-6"><a href=""></a>penguins_summarise</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  species   body_mass_g_mean body_mass_g_sd
  &lt;fct&gt;                &lt;dbl&gt;          &lt;dbl&gt;
1 Adelie               3701.           459.
2 Chinstrap            3733.           384.
3 Gentoo               5076.           504.</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>bind_rows() e bind_cols()</h2>
<p>Combina dados por linhas ou por colunas</p>
<div style="font-size: 70%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href=""></a><span class="co"># selecionar as linhas para dois tibbles</span></span>
<span id="cb98-2"><a href=""></a>penguins_01 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">slice</span>(penguins, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb98-3"><a href=""></a><span class="fu">head</span>(penguins_01)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href=""></a>penguins_02 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">slice</span>(penguins, <span class="dv">51</span><span class="sc">:</span><span class="dv">55</span>)</span>
<span id="cb100-2"><a href=""></a><span class="fu">head</span>(penguins_02)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 8
  species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Biscoe           39.6          17.7               186        3500
2 Adelie  Biscoe           40.1          18.9               188        4300
3 Adelie  Biscoe           35            17.9               190        3450
4 Adelie  Biscoe           42            19.5               200        4050
5 Adelie  Biscoe           34.5          18.1               187        2900
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</div>
</section>
<section class="slide level2">
<h2>bind_rows() e bind_cols()</h2>
<p>Combina dados por linhas</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href=""></a><span class="co"># combinar as linhas</span></span>
<span id="cb102-2"><a href=""></a>penguins_bind_rows <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(penguins_01, penguins_02, <span class="at">.id =</span> <span class="st">"id"</span>)</span>
<span id="cb102-3"><a href=""></a><span class="fu">head</span>(penguins_bind_rows)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 9
  id    species island    bill_length_mm bill_depth_mm flipper_length_mm
  &lt;chr&gt; &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
1 1     Adelie  Torgersen           39.1          18.7               181
2 1     Adelie  Torgersen           39.5          17.4               186
3 1     Adelie  Torgersen           40.3          18                 195
4 1     Adelie  Torgersen           NA            NA                  NA
5 1     Adelie  Torgersen           36.7          19.3               193
6 2     Adelie  Biscoe              39.6          17.7               186
# ℹ 3 more variables: body_mass_g &lt;int&gt;, sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>bind_rows() e bind_cols()</h2>
<p>Combina dados por colunas</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href=""></a><span class="do">## combinar as colunas</span></span>
<span id="cb104-2"><a href=""></a>penguins_bind_cols <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_cols</span>(penguins_01, penguins_02, <span class="at">.name_repair =</span> <span class="st">"unique"</span>)</span>
<span id="cb104-3"><a href=""></a><span class="fu">head</span>(penguins_bind_cols)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 16
  species...1 island...2 bill_length_mm...3 bill_depth_mm...4
  &lt;fct&gt;       &lt;fct&gt;                   &lt;dbl&gt;             &lt;dbl&gt;
1 Adelie      Torgersen                39.1              18.7
2 Adelie      Torgersen                39.5              17.4
3 Adelie      Torgersen                40.3              18  
4 Adelie      Torgersen                NA                NA  
5 Adelie      Torgersen                36.7              19.3
# ℹ 12 more variables: flipper_length_mm...5 &lt;int&gt;, body_mass_g...6 &lt;int&gt;,
#   sex...7 &lt;fct&gt;, year...8 &lt;int&gt;, species...9 &lt;fct&gt;, island...10 &lt;fct&gt;,
#   bill_length_mm...11 &lt;dbl&gt;, bill_depth_mm...12 &lt;dbl&gt;,
#   flipper_length_mm...13 &lt;int&gt;, body_mass_g...14 &lt;int&gt;, sex...15 &lt;fct&gt;,
#   year...16 &lt;int&gt;</code></pre>
</div>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/package_stringr.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://stringr.tidyverse.org/">stringr</a></p>
</div>
</section>
<section class="slide level2">
<h2>stringr</h2>
<ul>
<li>Pacote para a manipulação de <strong>strings</strong> ou <strong>caracteres</strong></li>
<li><strong>Exemplos</strong>: correspondência de padrões, retirar e acrescentar espaços em branco, mudar maiúsculas e minúsculas</li>
<li>Pode ser <strong>utilizado em conjunto</strong> com o pacote <code>dplyr</code> para manejar dados de colunas</li>
<li>Para <strong>funções mais específicas</strong>, recomenda-se usar o pacote <a href="https://stringi.gagolewski.com/">stringi</a></li>
</ul>
</section>
<section class="slide level2">
<h2>stringr</h2>
<p>Comprimento</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href=""></a><span class="co"># comprimento</span></span>
<span id="cb106-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_length</span>(<span class="at">string =</span> <span class="st">"penguins"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
<p>Substituir</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href=""></a><span class="co"># substituir</span></span>
<span id="cb108-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_replace</span>(<span class="at">string =</span> <span class="st">"penguins"</span>, <span class="at">pattern =</span> <span class="st">"i"</span>, <span class="at">replacement =</span> <span class="st">"y"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "penguyns"</code></pre>
</div>
</div>
<p>Separar</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href=""></a><span class="co"># separar</span></span>
<span id="cb110-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_split</span>(<span class="at">string =</span> <span class="st">"p-e-n-g-u-i-n-s"</span>, <span class="at">pattern =</span> <span class="st">"-"</span>, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
[1,] "p"  "e"  "n"  "g"  "u"  "i"  "n"  "s" </code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>stringr</h2>
<p>Extrair pela posição</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href=""></a><span class="co"># extrair pela posicao</span></span>
<span id="cb112-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_sub</span>(<span class="at">string =</span> <span class="st">"penguins"</span>, <span class="at">end =</span> <span class="dv">3</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "pen"</code></pre>
</div>
</div>
<p>Extrair por padrão</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href=""></a><span class="co"># extrair por padrao</span></span>
<span id="cb114-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_extract</span>(<span class="at">string =</span> <span class="st">"penguins"</span>, <span class="at">pattern =</span> <span class="st">"p"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "p"</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>stringr</h2>
<p>Inserir espacos em branco</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb116"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href=""></a><span class="co"># inserir espaco em branco - esquerda</span></span>
<span id="cb116-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_pad</span>(<span class="at">string =</span> <span class="st">"penguins"</span>, <span class="at">width =</span> <span class="dv">10</span>, <span class="at">side =</span> <span class="st">"left"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "  penguins"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb118"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href=""></a><span class="co"># inserir espaco em branco - direita</span></span>
<span id="cb118-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_pad</span>(<span class="at">string =</span> <span class="st">"penguins"</span>, <span class="at">width =</span> <span class="dv">10</span>, <span class="at">side =</span> <span class="st">"right"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "penguins  "</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb120"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href=""></a><span class="co"># inserir espaco em branco - ambos</span></span>
<span id="cb120-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_pad</span>(<span class="at">string =</span> <span class="st">"penguins"</span>, <span class="at">width =</span> <span class="dv">10</span>, <span class="at">side =</span> <span class="st">"both"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] " penguins "</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>stringr</h2>
<p>Remover espaços em branco</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb122"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href=""></a><span class="co"># remover espacos em branco - esquerda</span></span>
<span id="cb122-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_trim</span>(<span class="at">string =</span> <span class="st">" penguins "</span>, <span class="at">side =</span> <span class="st">"left"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "penguins "</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb124"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href=""></a><span class="co"># remover espacos em branco - direta</span></span>
<span id="cb124-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_trim</span>(<span class="at">string =</span> <span class="st">" penguins "</span>, <span class="at">side =</span> <span class="st">"right"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] " penguins"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb126"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href=""></a><span class="co"># remover espacos em branco - ambos</span></span>
<span id="cb126-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_trim</span>(<span class="at">string =</span> <span class="st">" penguins "</span>, <span class="at">side =</span> <span class="st">"both"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "penguins"</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>stringr</h2>
<p>Alterar minúsculas e maiúsculas</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb128"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href=""></a><span class="co"># minusculas</span></span>
<span id="cb128-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_to_lower</span>(<span class="at">string =</span> <span class="st">"Penguins"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "penguins"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb130"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href=""></a><span class="co"># maiusculas</span></span>
<span id="cb130-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_to_upper</span>(<span class="at">string =</span> <span class="st">"penguins"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "PENGUINS"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb132"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href=""></a><span class="co"># primeiro caracter maiusculo da primeira palavra</span></span>
<span id="cb132-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_to_sentence</span>(<span class="at">string =</span> <span class="st">"palmer penGuins"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Palmer penguins"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb134"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href=""></a><span class="co"># primeiro caracter maiusculo de cada palavra</span></span>
<span id="cb134-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_to_title</span>(<span class="at">string =</span> <span class="st">"palmer penGuins"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Palmer Penguins"</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>stringr</h2>
<p>Ordenar</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb136"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href=""></a><span class="co"># ordenar - crescente</span></span>
<span id="cb136-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_sort</span>(<span class="at">x =</span> letters)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s"
[20] "t" "u" "v" "w" "x" "y" "z"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb138"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href=""></a><span class="co"># ordenar - decrescente</span></span>
<span id="cb138-2"><a href=""></a>stringr<span class="sc">::</span><span class="fu">str_sort</span>(<span class="at">x =</span> letters, <span class="at">dec =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "z" "y" "x" "w" "v" "u" "t" "s" "r" "q" "p" "o" "n" "m" "l" "k" "j" "i" "h"
[20] "g" "f" "e" "d" "c" "b" "a"</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>stringr</h2>
<p>Alterar valores das colunas</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb140"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href=""></a><span class="co"># alterar valores das colunas</span></span>
<span id="cb140-2"><a href=""></a>penguins_stringr_valores <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb140-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">species =</span> stringr<span class="sc">::</span><span class="fu">str_to_lower</span>(species))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Alterar nome das colunas</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href=""></a><span class="co"># alterar nome das colunas</span></span>
<span id="cb141-2"><a href=""></a>penguins_stringr_nomes <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb141-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">rename_with</span>(stringr<span class="sc">::</span>str_to_title)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/package_forcats.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://forcats.tidyverse.org/">forcats</a></p>
</div>
</section>
<section class="slide level2">
<h2>Descrição</h2>
<ul>
<li>Conjunto de ferramentas úteis para facilitar a manipulação de <strong>fatores</strong> e <strong>seus níveis</strong></li>
<li><strong>Exemplos</strong>: mudar a ordem dos níveis, mudar os valores dos níveis, adicionar e remover níveis, combinar múltiplos níveis</li>
<li>Pode ser utilizado em conjunto com o pacote <code>dplyr</code> para manejar colunas</li>
</ul>
</section>
<section class="slide level2">
<h2>forcats</h2>
<p>Converter dados de <code>string</code> para <code>factor</code></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb142"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href=""></a><span class="co"># converter dados de string para factor</span></span>
<span id="cb142-2"><a href=""></a>forcats<span class="sc">::</span><span class="fu">as_factor</span>(penguins_raw<span class="sc">$</span>Species) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Adelie Penguin (Pygoscelis adeliae) Adelie Penguin (Pygoscelis adeliae)
[3] Adelie Penguin (Pygoscelis adeliae) Adelie Penguin (Pygoscelis adeliae)
[5] Adelie Penguin (Pygoscelis adeliae) Adelie Penguin (Pygoscelis adeliae)
3 Levels: Adelie Penguin (Pygoscelis adeliae) ...</code></pre>
</div>
</div>
<p>Mudar o nome dos níveis</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb144"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href=""></a><span class="co"># mudar o nome dos niveis</span></span>
<span id="cb144-2"><a href=""></a>forcats<span class="sc">::</span><span class="fu">fct_recode</span>(penguins<span class="sc">$</span>species, <span class="at">a =</span> <span class="st">"Adelie"</span>, <span class="at">c =</span> <span class="st">"Chinstrap"</span>, <span class="at">g =</span> <span class="st">"Gentoo"</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] a a a a a a
Levels: a c g</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>forcats</h2>
<p>Inverter os níveis</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb146"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href=""></a><span class="co"># inverter os niveis</span></span>
<span id="cb146-2"><a href=""></a>forcats<span class="sc">::</span><span class="fu">fct_rev</span>(penguins<span class="sc">$</span>species) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Adelie Adelie Adelie Adelie Adelie Adelie
Levels: Gentoo Chinstrap Adelie</code></pre>
</div>
</div>
<p>Especificar a ordem dos níveis</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb148"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href=""></a><span class="co"># especificar a ordem dos niveis</span></span>
<span id="cb148-2"><a href=""></a>forcats<span class="sc">::</span><span class="fu">fct_relevel</span>(penguins<span class="sc">$</span>species, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span>, <span class="st">"Adelie"</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Adelie Adelie Adelie Adelie Adelie Adelie
Levels: Chinstrap Gentoo Adelie</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>forcats</h2>
<p>Níveis pela ordem em que aparecem</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb150"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href=""></a><span class="co"># niveis pela ordem em que aparecem</span></span>
<span id="cb150-2"><a href=""></a>forcats<span class="sc">::</span><span class="fu">fct_inorder</span>(penguins<span class="sc">$</span>species) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Adelie Adelie Adelie Adelie Adelie Adelie
Levels: Adelie Gentoo Chinstrap</code></pre>
</div>
</div>
<p>Ordem (decrescente) de frequência</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb152"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href=""></a><span class="co"># ordem (decrescente) de frequecia</span></span>
<span id="cb152-2"><a href=""></a>forcats<span class="sc">::</span><span class="fu">fct_infreq</span>(penguins<span class="sc">$</span>species) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Adelie Adelie Adelie Adelie Adelie Adelie
Levels: Adelie Gentoo Chinstrap</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>forcats</h2>
<p>Agregação de níveis raros em um nível</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb154"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href=""></a><span class="co"># agregacao de niveis raros em um nivel</span></span>
<span id="cb154-2"><a href=""></a>forcats<span class="sc">::</span><span class="fu">fct_lump</span>(penguins<span class="sc">$</span>species) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Adelie Adelie Adelie Adelie Adelie Adelie
Levels: Adelie Gentoo Other</code></pre>
</div>
</div>
<p>Transformar várias colunas em fator</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb156"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href=""></a><span class="co"># transformar varias colunas em fator</span></span>
<span id="cb156-2"><a href=""></a>penguins_raw_multi_factor <span class="ot">&lt;-</span> penguins_raw <span class="sc">%&gt;%</span> </span>
<span id="cb156-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.character), forcats<span class="sc">::</span>as_factor))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section></section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/package_lubridate.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://lubridate.tidyverse.org/">lubridate</a></p>
</div>
</section>

<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/lubridate_allison.png" style="width:70%">
</center>
<div class="footer">
<p>Artwork by <a href="https://x.com/allison_horst"><span class="citation" data-cites="allison_horst">@allison_horst</span></a></p>
</div>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<ul>
<li>Pacote à parte do tidyverse</li>
<li>Carregar sempre que for utilizar</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb157"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href=""></a><span class="co"># carregar</span></span>
<span id="cb157-2"><a href=""></a><span class="fu">library</span>(lubridate)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section class="slide level2">
<h2>Descrição</h2>
<ul>
<li>Conjunto de funções para a manipulação de dados de <strong>data</strong> e <strong>horário</strong></li>
<li>A manipulação desses dados <strong>não é intuitiva</strong> e muda dependendo do tipo de objeto de data e horário</li>
<li>O formato desses dados deve levar em consideração <strong>fusos horários</strong>, <strong>anos bissextos</strong>, <strong>horários de verão</strong>, etc.</li>
<li><strong>Exemplos</strong>: transformações de data/horário, componentes, arredondamentos, durações, períodos, intervalos, etc.</li>
</ul>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p>Tipos de dados</p>
<ul>
<li><p><strong>Data</strong>: tempo em dias, meses e anos <code>&lt;date&gt;</code></p></li>
<li><p><strong>Horário</strong>: tempo dentro de um dia <code>&lt;time&gt;</code></p></li>
<li><p><strong>Data-horário</strong>: tempo em um instante (data mais tempo) <code>&lt;dttm&gt;</code></p></li>
<li><p>Para trabalhar exclusivamente com horários, podemos utilizar o pacote</p></li>
</ul>
<div class="footer">
<p><a href="https://hms.tidyverse.org/">hms</a></p>
</div>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p>Algumas letras possuem significados temporais, sendo abreviações de diferentes períodos em inglês:</p>
<p><br></p>
<ul>
<li><p><strong>y</strong>ear (ano), <strong>m</strong>onth (mês)</p></li>
<li><p><strong>w</strong>eak (semana), <strong>d</strong>ay (dia)</p></li>
<li><p><strong>h</strong>our (hora), <strong>m</strong>inute (minuto) e <strong>s</strong>econd (segundo)</p></li>
</ul>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p>Data e horários atuais</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb158"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href=""></a><span class="co"># extrair a data nesse instante</span></span>
<span id="cb158-2"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">today</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2025-10-27"</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb160"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href=""></a><span class="co"># extrair a data e tempo nesse instante</span></span>
<span id="cb160-2"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">now</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2025-10-27 23:08:54 -03"</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p>Existem três maneiras de criar um dado de data/horário</p>
<ol type="1">
<li>De um string ou caracter</li>
<li>De componentes individuais de data e horário</li>
<li>De um objeto de data/horário existente</li>
</ol>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p><strong>1. String ou caracter </strong></p>
<ul>
<li>Os dados de data/horário geralmente estão no formato de strings</li>
<li>Podemos transformar os dados especificando a ordem dos seus componentes usando as letras <code>y</code> (ano), <code>m</code> (mês) e <code>d</code> (dia)</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb162"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href=""></a><span class="co"># strings e numeros para datas</span></span>
<span id="cb162-2"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">dmy</span>(<span class="st">"03-03-2021"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2021-03-03"</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p><strong>1. String ou caracter </strong></p>
<p>Essas funções também aceitam números sem aspas, além funcionarem em outros diversos formatos</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb164"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href=""></a><span class="co"># strings e numeros para datas</span></span>
<span id="cb164-2"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">dmy</span>(<span class="st">"03-Mar-2021"</span>)</span>
<span id="cb164-3"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">dmy</span>(<span class="dv">03032021</span>)</span>
<span id="cb164-4"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">dmy</span>(<span class="st">"03032021"</span>)</span>
<span id="cb164-5"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">dmy</span>(<span class="st">"03/03/2021"</span>)</span>
<span id="cb164-6"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">dmy</span>(<span class="st">"03.03.2021"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p><strong>1. String ou caracter </strong></p>
<p>Especificar horários e Fusos horários</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb165"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href=""></a><span class="co"># especificar horarios e fuso horario</span></span>
<span id="cb165-2"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">dmy_h</span>(<span class="st">"03-03-2021 13"</span>)</span>
<span id="cb165-3"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">dmy_hm</span>(<span class="st">"03-03-2021 13:32"</span>)</span>
<span id="cb165-4"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">dmy_hms</span>(<span class="st">"03-03-2021 13:32:01"</span>)</span>
<span id="cb165-5"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">dmy_hms</span>(<span class="st">"03-03-2021 13:32:01"</span>, <span class="at">tz =</span> <span class="st">"America/Sao_Paulo"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p><strong>2. Componentes individuais de data e horário</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb166"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href=""></a><span class="co"># dados com componentes individuais</span></span>
<span id="cb166-2"><a href=""></a>dados <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb166-3"><a href=""></a>  <span class="at">ano =</span> <span class="fu">c</span>(<span class="dv">2021</span>, <span class="dv">2021</span>, <span class="dv">2021</span>),</span>
<span id="cb166-4"><a href=""></a>  <span class="at">mes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb166-5"><a href=""></a>  <span class="at">dia =</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">20</span>, <span class="dv">31</span>),</span>
<span id="cb166-6"><a href=""></a>  <span class="at">hora =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">14</span>, <span class="dv">18</span>), </span>
<span id="cb166-7"><a href=""></a>  <span class="at">minuto =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">44</span>, <span class="dv">55</span>))</span>
<span id="cb166-8"><a href=""></a>dados</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
    ano   mes   dia  hora minuto
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
1  2021     1    12     2      2
2  2021     2    20    14     44
3  2021     3    31    18     55</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p><strong>2. Componentes individuais de data e horário</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb168"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href=""></a><span class="co"># dados com componentes individuais</span></span>
<span id="cb168-2"><a href=""></a>dados <span class="sc">%&gt;%</span> </span>
<span id="cb168-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">data =</span> lubridate<span class="sc">::</span><span class="fu">make_datetime</span>(ano, mes, dia, hora, minuto))</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 6
    ano   mes   dia  hora minuto data               
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dttm&gt;             
1  2021     1    12     2      2 2021-01-12 02:02:00
2  2021     2    20    14     44 2021-02-20 14:44:00
3  2021     3    31    18     55 2021-03-31 18:55:00</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p><strong>3. Objeto de data/horário existente</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb170"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href=""></a><span class="co"># data para data-horario</span></span>
<span id="cb170-2"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">as_datetime</span>(<span class="fu">today</span>())</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2025-10-27 UTC"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb172"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href=""></a><span class="co"># data-horario para data</span></span>
<span id="cb172-2"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">as_date</span>(<span class="fu">now</span>())</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2025-10-27"</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p>Funções para acessar e definir componentes individuais de datas e horários</p>
<div style="font-size: 70%;">
<ul>
<li><code>year()</code>: acessa o ano</li>
<li><code>month()</code>: acessa o mês</li>
<li><code>day()</code>: acessa o dia</li>
<li><code>yday()</code>: acessa o dia do ano</li>
<li><code>mday()</code>: acessa o dia do mês</li>
<li><code>wday()</code>: acessa o dia da semana</li>
<li><code>hour()</code>: acessa as horas</li>
<li><code>minute()</code>: acessa os minutos</li>
<li><code>second()</code>: acessa os segundos</li>
</ul>
</div>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p>Funções para acessar e definir componentes individuais de datas e horários</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb174"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href=""></a><span class="co"># extrair</span></span>
<span id="cb174-2"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">year</span>(<span class="fu">now</span>())</span>
<span id="cb174-3"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">month</span>(<span class="fu">now</span>())</span>
<span id="cb174-4"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">month</span>(<span class="fu">now</span>(), <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb174-5"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">day</span>(<span class="fu">now</span>())</span>
<span id="cb174-6"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">wday</span>(<span class="fu">now</span>())</span>
<span id="cb174-7"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">wday</span>(<span class="fu">now</span>(), <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb174-8"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">second</span>(<span class="fu">now</span>())</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section class="slide level2">
<h2>lubridate</h2>
<p>Inclusão de informações de datas e horários</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb175"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href=""></a><span class="co"># data</span></span>
<span id="cb175-2"><a href=""></a>data <span class="ot">&lt;-</span> <span class="fu">dmy_hms</span>(<span class="st">"04-03-2021 01:04:56"</span>)</span>
<span id="cb175-3"><a href=""></a></span>
<span id="cb175-4"><a href=""></a><span class="co"># incluir</span></span>
<span id="cb175-5"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">year</span>(data) <span class="ot">&lt;-</span> <span class="dv">2020</span></span>
<span id="cb175-6"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">month</span>(data) <span class="ot">&lt;-</span> <span class="dv">01</span></span>
<span id="cb175-7"><a href=""></a>lubridate<span class="sc">::</span><span class="fu">hour</span>(data) <span class="ot">&lt;-</span> <span class="dv">13</span></span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><br></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb176"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href=""></a><span class="co"># incluir varios valores</span></span>
<span id="cb176-2"><a href=""></a><span class="fu">update</span>(data, <span class="at">year =</span> <span class="dv">2020</span>, <span class="at">month =</span> <span class="dv">1</span>, <span class="at">mday =</span> <span class="dv">1</span>, <span class="at">hour =</span> <span class="dv">1</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2020-01-01 01:04:56 UTC"</code></pre>
</div>
</div>
</section></section>
<section>
<section class="title-slide slide level1 center">
<h1></h1>
<center>
<img src="img/package_purrr.png" style="width:50%">
</center>
<div class="footer">
<p><a href="https://purrr.tidyverse.org/">purrr</a></p>
</div>
</section>
<section class="slide level2">
<h2>Descrição</h2>
<ul>
<li>Implementa a <strong>Programação Funcional no R</strong>, fornecendo um conjunto completo e consistente de ferramentas para trabalhar com funções e vetores</li>
<li>Permite substituir muitos <em>loops for</em> por um código mais curto</li>
</ul>
<center>
<img src="img/purrr_cats.jpeg" style="width:40%">
</center>
</section>
<section class="slide level2">
<h2>purrr</h2>
<p><em>Loop</em></p>
<p>Um <em>loop for</em> é uma iteração: um bloco de código é repetido mudando um contador de uma lista</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb178"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href=""></a><span class="co"># loop for</span></span>
<span id="cb178-2"><a href=""></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb178-3"><a href=""></a>  <span class="fu">print</span>(i)</span>
<span id="cb178-4"><a href=""></a>}</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] 6
[1] 7
[1] 8
[1] 9
[1] 10</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>purrr</h2>
<p><strong>Programação funcional</strong></p>
<div style="font-size: 70%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb180"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href=""></a><span class="co"># loop for com map</span></span>
<span id="cb180-2"><a href=""></a>purrr<span class="sc">::</span><span class="fu">map</span>(<span class="at">.x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">.f =</span> print)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] 6
[1] 7
[1] 8
[1] 9
[1] 10</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 1

[[2]]
[1] 2

[[3]]
[1] 3

[[4]]
[1] 4

[[5]]
[1] 5

[[6]]
[1] 6

[[7]]
[1] 7

[[8]]
[1] 8

[[9]]
[1] 9

[[10]]
[1] 10</code></pre>
</div>
</div>
</div>
</section>
<section class="slide level2">
<h2>purrr</h2>
<p><strong>Estrutura</strong></p>
<ul>
<li><code>map(.x, .f)</code></li>
<li><code>.x</code>: uma vetor, lista ou data frame</li>
<li><code>.f</code>: uma função</li>
</ul>
<center>
<img src="img/purrr_map.png" style="width:45%">
</center>
</section>
<section class="slide level2">
<h2>purrr</h2>
<p>Exemplo: aplicar a função <code>sum()</code> para somar os valores de vários elementos de uma lista</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb183"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href=""></a><span class="co"># lista</span></span>
<span id="cb183-2"><a href=""></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span>), <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb183-3"><a href=""></a></span>
<span id="cb183-4"><a href=""></a><span class="co"># funcao map</span></span>
<span id="cb183-5"><a href=""></a>purrr<span class="sc">::</span><span class="fu">map</span>(x, sum)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 15

[[2]]
[1] 16

[[3]]
[1] 3

[[4]]
[1] 10</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>purrr</h2>
<p><strong>Tipos de retorno</strong></p>
<p>Diferentes funções retornam diferentes estruturas de dados</p>
<div style="font-size: 70%;">
<ul>
<li><code>map()</code>: retorna uma lista</li>
<li><code>map_chr()</code>: retorna um vetor de strings</li>
<li><code>map_dbl()</code>: retorna um vetor numérico (double)</li>
<li><code>map_int()</code>: retorna um vetor numérico (integer)</li>
<li><code>map_lgl()</code>: retorna um vetor lógico</li>
<li><code>map_dfr()</code>: retorna um data frame (por linhas)</li>
<li><code>map_dfc()</code>: retorna um data frame (por colunas)</li>
</ul>
</div>
</section>
<section class="slide level2">
<h2>purrr</h2>
<p><strong>Tipos de retorno</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb185"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href=""></a><span class="co"># variacoes da funcao map</span></span>
<span id="cb185-2"><a href=""></a>purrr<span class="sc">::</span><span class="fu">map_dbl</span>(x, sum)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15 16  3 10</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb187"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href=""></a>purrr<span class="sc">::</span><span class="fu">map_chr</span>(x, paste, <span class="at">collapse =</span> <span class="st">" "</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1 2 3 4 5" "4 5 7"     "1 1 1"     "2 2 2 2 2"</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>purrr</h2>
<p><strong>Duas ou mais listas em paralelo</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb189"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href=""></a><span class="co"># listas</span></span>
<span id="cb189-2"><a href=""></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb189-3"><a href=""></a>y <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb189-4"><a href=""></a>z <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb189-5"><a href=""></a></span>
<span id="cb189-6"><a href=""></a><span class="co"># map2* duas litas</span></span>
<span id="cb189-7"><a href=""></a>purrr<span class="sc">::</span><span class="fu">map2_dbl</span>(x, y, prod)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  9 25  0  1</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb191"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href=""></a><span class="co"># pmap muitas listas</span></span>
<span id="cb191-2"><a href=""></a>purrr<span class="sc">::</span><span class="fu">pmap_dbl</span>(<span class="fu">list</span>(x, y, z), prod)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  27 125   0   1</code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>purrr</h2>
<p>Implementar rotinas de manipulação e análise de dados</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb193"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href=""></a><span class="co"># resumo dos dados</span></span>
<span id="cb193-2"><a href=""></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb193-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span> </span>
<span id="cb193-4"><a href=""></a>  tidyr<span class="sc">::</span><span class="fu">drop_na</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb193-5"><a href=""></a>  purrr<span class="sc">::</span><span class="fu">map_dbl</span>(mean)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   bill_length_mm     bill_depth_mm flipper_length_mm       body_mass_g 
         43.92193          17.15117         200.91520        4201.75439 
             year 
       2008.02924 </code></pre>
</div>
</div>
</section>
<section class="slide level2">
<h2>purrr</h2>
<p>Implementar rotinas de manipulação e análise de dados</p>
<div style="font-size: 70%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb195"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href=""></a><span class="co"># analise dos dados</span></span>
<span id="cb195-2"><a href=""></a>penguins <span class="sc">%&gt;%</span></span>
<span id="cb195-3"><a href=""></a>  dplyr<span class="sc">::</span><span class="fu">group_split</span>(island, species) <span class="sc">%&gt;%</span> </span>
<span id="cb195-4"><a href=""></a>  purrr<span class="sc">::</span><span class="fu">map</span>(<span class="sc">~</span> <span class="fu">lm</span>(bill_depth_mm <span class="sc">~</span> bill_length_mm, <span class="at">data =</span> .x)) <span class="sc">%&gt;%</span> </span>
<span id="cb195-5"><a href=""></a>  purrr<span class="sc">::</span><span class="fu">map</span>(summary) <span class="sc">%&gt;%</span> </span>
<span id="cb195-6"><a href=""></a>  purrr<span class="sc">::</span><span class="fu">map</span>(<span class="st">"r.squared"</span>)</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 0.2192052

[[2]]
[1] 0.4139429

[[3]]
[1] 0.2579242

[[4]]
[1] 0.4271096

[[5]]
[1] 0.06198376</code></pre>
</div>
</div>
</div>
</section>
<section class="slide level2">
<h2>purrr</h2>
<p><strong>Material</strong></p>
<ul>
<li><a href="https://youtu.be/vb1lD9_AFcU">Webinar de purrr avançado</a> - Curso-R</li>
<li><a href="https://jennybc.github.io/purrr-tutorial/">purrr tutorial</a> - Jennifer (Jenny) Bryan</li>
</ul>
<center>
<img src="img/general_curso_r.png" style="width:60%">
</center>
</section>
<section class="slide level2">
<h2>purrr</h2>
<p><strong>furrr: programação funcional paralelizada</strong></p>
<p>Faz o mapeamento em paralelo utilizando os <em>cores</em> do processador</p>
<center>
<img src="img/package_furrr.png" style="width:35%">
</center>
<div class="footer">
<p><a href="https://furrr.futureverse.org/">furrr</a></p>
</div>
</section>
<section class="slide level2">
<h2>purrr</h2>
<p><strong>furrr: programação funcional paralelizada</strong></p>
<p>Número de <em>cores</em> do seu computador</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb197"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href=""></a><span class="co"># carregar</span></span>
<span id="cb197-2"><a href=""></a><span class="fu">library</span>(parallel)</span>
<span id="cb197-3"><a href=""></a></span>
<span id="cb197-4"><a href=""></a><span class="co"># numero de cores</span></span>
<span id="cb197-5"><a href=""></a>parallel<span class="sc">::</span><span class="fu">detectCores</span>()</span></code></pre></div><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
</div>
<p><img data-src="img/core01.png" class="absolute" style="top: 410px; right: 500px; width: 400px; height: 250px; "> <img data-src="img/core02.png" class="absolute" style="top: 410px; right: 200px; width: 250px; height: 250px; "></p>
<div class="footer">
<p><a href="https://nceas.github.io/oss-lessons/parallel-computing-in-r/parallel-computing-in-r.html">Quick Intro to Parallel Computing in R</a></p>
</div>
<div class="footer">
<p><a href="https://nceas.github.io/oss-lessons/parallel-computing-in-r/parallel-computing-in-r.html">Quick Intro to Parallel Computing in R</a></p>
</div>
</section></section>
<section class="title-slide slide level1 center">
<h1>Dúvidas?</h1>

</section>

<section>
<section class="title-slide slide level1 center">
<h1>Dúvidas?</h1>

</section>
<section class="slide level2">
<h2>Muito obrigado!</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Agradecimentos:</p>
<ul>
<li><a href="https://tsiqueiralab.weebly.com/">Prof.&nbsp;Tadeu Siqueira</a></li>
<li><a href="https://leec.eco.br/">Prof.&nbsp;Miltinho</a></li>
</ul>
<p><img data-src="img/fapesp.png" class="absolute" style="top: 450px; right: 650px; width: 40%; "></p>
</div><div class="column" style="width:50%;">
<p>Contato:</p>
<center>
<a href="">mauricio.vancine@gmail.com</a> <a href="mauriciovancine.github.io">mauriciovancine.github.io</a> <img src="img/gif_frogs.gif" style="width:75%">
</center>
</div></div>
<div class="footer">
<p>Slides por <a href="https://mauriciovancine.github.io/">Maurício Vancine</a>, feitos com <a href="https://quarto.org/">Quarto</a>. Código disponível no <a href="https://github.com/mauriciovancine/workshop-r-introduction/blob/master/01_slides/slides.qmd">GitHub</a>.</p>
</div>

</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="https://www.r-project.org/logo/Rlogo.svg" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="slides_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="slides_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="slides_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="slides_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="slides_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="slides_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="slides_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script>
    // Faz com que todos os links abram em nova aba
    document.addEventListener("DOMContentLoaded", function() {
      document.querySelectorAll('a[href]').forEach(link => {
        link.setAttribute('target', '_blank');
        link.setAttribute('rel', 'noopener noreferrer');
      });
    });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copiada");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copiada");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>